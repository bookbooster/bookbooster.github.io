webpackJsonp([4],{291:function(t,e,o){"use strict";var i=function(){function t(t){Object.assign(this,t)}return t.prototype.getSlug=function(){return this.month+"-"+this.year},t.prototype.isEqual=function(t){return t&&this.month===t.month&&this.year===t.year},t.prototype.compare=function(t){return t?this.year===t.year?this.month<t.month?-1:1:this.year<t.year?-1:1:-1},t}();e.DonationMonth=i,e.APR_17=new i({booksDonated:425,month:4,year:2017}),e.MAR_17=new i({booksDonated:425,month:3,year:2017}),e.FEB_17=new i({booksDonated:425,month:2,year:2017}),e.JAN_17=new i({booksDonated:330,month:1,year:2017}),e.NOV_16=new i({booksDonated:230,month:11,year:2016}),e.OCT_16=new i({booksDonated:230,month:10,year:2016}),e.SEPT_16=new i({booksDonated:200,month:9,year:2016}),e.AUG_16=new i({booksDonated:200,month:8,year:2016}),e.SCHOOL_YEAR_17=new i({schoolYear:2017})},298:function(t,e,o){"use strict";var i=o(538),n=o(674),s=o(57);i.Icon.Default.imagePath="https://npmcdn.com/leaflet@0.7.7/dist/images";var a=i.latLng(37.629702,-122.119978),r=i.circle(a,76800),h=i.map("school-map",{center:a,maxBounds:r.getBounds(),maxZoom:12,minZoom:9,zoom:11});i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(h);var l=i.featureGroup(n.SCHOOLS.filter(function(t){return t.geolocation}).map(function(t){var e=t.donationMonth,o=e?e.booksDonated:-1,n=function(){return-1===o?"Will receive books in 2017*":(o?"Received "+o+" books":"Will receive books")+" in "+s.formatDonationMonth(e)}(),a=('\n    <div class="school-image '+t.getSlug()+'"></div>\n    <h6 class="school-map-popup-name">'+t.name+'</h6>\n    <div class="school-map-popup-fact"><i class="fi-marker"></i>'+t.location+'</div>\n    <div class="school-map-popup-fact">\n      <i class="fi-home"></i>'+s.formatLargeNumber(t.numStudents)+" students, grades "+t.grades+'\n    </div>\n    <div class="school-map-popup-fact">\n      <i class="fi-results-demographics"></i>'+t.freeLunchPercent+'%\n      of students qualify for free and reduced lunch\n    </div>\n    <div class="school-map-popup-fact">\n      <i class="fi-book"></i>'+n+"\n    </div>\n  ").replace(/\n/g,"");return i.marker(t.geolocation).addTo(h).bindPopup(a)}));h.fitBounds(l.getBounds(),{padding:i.point(50,50)})},538:function(t,e,o){var i,n;!function(s,a,r){var h=s.L,l={};l.version="0.7.7","object"==typeof t&&"object"==typeof t.exports?t.exports=l:(i=l,void 0!==(n="function"==typeof i?i.call(e,o,e,t):i)&&(t.exports=n)),l.noConflict=function(){return s.L=h,this},s.L=l,l.Util={extend:function(t){var e,o,i,n,s=Array.prototype.slice.call(arguments,1);for(o=0,i=s.length;o<i;o++){n=s[o]||{};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},bind:function(t,e){var o=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,o||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(o){return o[e]=o[e]||++t,o[e]}}(),invokeEach:function(t,e,o){var i,n;if("object"==typeof t){n=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(o,[i,t[i]].concat(n));return!0}return!1},limitExecByInterval:function(t,e,o){var i,n;return function s(){var a=arguments;if(i)return void(n=!0);i=!0,setTimeout(function(){i=!1,n&&(s.apply(o,a),n=!1)},e),t.apply(o,a)}},falseFn:function(){return!1},formatNum:function(t,e){var o=Math.pow(10,e||5);return Math.round(t*o)/o},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return l.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=l.extend({},t.options,e),t.options},getParamString:function(t,e,o){var i=[];for(var n in t)i.push(encodeURIComponent(o?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,o){var i=e[o];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){var e,o,i=["webkit","moz","o","ms"];for(e=0;e<i.length&&!o;e++)o=s[i[e]+t];return o}function e(t){var e=+new Date,i=Math.max(0,16-(e-o));return o=e+i,s.setTimeout(t,i)}var o=0,i=s.requestAnimationFrame||t("RequestAnimationFrame")||e,n=s.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){s.clearTimeout(t)};l.Util.requestAnimFrame=function(t,o,n,a){if(t=l.bind(t,o),!n||i!==e)return i.call(s,t,a);t()},l.Util.cancelAnimFrame=function(t){t&&n.call(s,t)}}(),l.extend=l.Util.extend,l.bind=l.Util.bind,l.stamp=l.Util.stamp,l.setOptions=l.Util.setOptions,l.Class=function(){},l.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},o=function(){};o.prototype=this.prototype;var i=new o;i.constructor=e,e.prototype=i;for(var n in this)this.hasOwnProperty(n)&&"prototype"!==n&&(e[n]=this[n]);t.statics&&(l.extend(e,t.statics),delete t.statics),t.includes&&(l.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=l.extend({},i.options,t.options)),l.extend(i,t),i._initHooks=[];var s=this;return e.__super__=s.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},l.Class.include=function(t){l.extend(this.prototype,t)},l.Class.mergeOptions=function(t){l.extend(this.prototype.options,t)},l.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),o="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o)};var u="_leaflet_events";l.Mixin={},l.Mixin.Events={addEventListener:function(t,e,o){if(l.Util.invokeEach(t,this.addEventListener,this,e,o))return this;var i,n,s,a,r,h,c,d=this[u]=this[u]||{},m=o&&o!==this&&l.stamp(o);for(t=l.Util.splitWords(t),i=0,n=t.length;i<n;i++)s={action:e,context:o||this},a=t[i],m?(r=a+"_idx",h=r+"_len",c=d[r]=d[r]||{},c[m]||(c[m]=[],d[h]=(d[h]||0)+1),c[m].push(s)):(d[a]=d[a]||[],d[a].push(s));return this},hasEventListeners:function(t){var e=this[u];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,o){if(!this[u])return this;if(!t)return this.clearAllEventListeners();if(l.Util.invokeEach(t,this.removeEventListener,this,e,o))return this;var i,n,s,a,r,h,c,d,m,p=this[u],_=o&&o!==this&&l.stamp(o);for(t=l.Util.splitWords(t),i=0,n=t.length;i<n;i++)if(s=t[i],h=s+"_idx",c=h+"_len",d=p[h],e){if(a=_&&d?d[_]:p[s]){for(r=a.length-1;r>=0;r--)a[r].action!==e||o&&a[r].context!==o||(m=a.splice(r,1),m[0].action=l.Util.falseFn);o&&d&&0===a.length&&(delete d[_],p[c]--)}}else delete p[s],delete p[h],delete p[c];return this},clearAllEventListeners:function(){return delete this[u],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var o,i,n,s,a,r=l.Util.extend({},e,{type:t,target:this}),h=this[u];if(h[t])for(o=h[t].slice(),i=0,n=o.length;i<n;i++)o[i].action.call(o[i].context,r);s=h[t+"_idx"];for(a in s)if(o=s[a].slice())for(i=0,n=o.length;i<n;i++)o[i].action.call(o[i].context,r);return this},addOneTimeEventListener:function(t,e,o){if(l.Util.invokeEach(t,this.addOneTimeEventListener,this,e,o))return this;var i=l.bind(function(){this.removeEventListener(t,e,o).removeEventListener(t,i,o)},this);return this.addEventListener(t,e,o).addEventListener(t,i,o)}},l.Mixin.Events.on=l.Mixin.Events.addEventListener,l.Mixin.Events.off=l.Mixin.Events.removeEventListener,l.Mixin.Events.once=l.Mixin.Events.addOneTimeEventListener,l.Mixin.Events.fire=l.Mixin.Events.fireEvent,function(){var t="ActiveXObject"in s,e=t&&!a.addEventListener,o=navigator.userAgent.toLowerCase(),i=-1!==o.indexOf("webkit"),n=-1!==o.indexOf("chrome"),r=-1!==o.indexOf("phantom"),h=-1!==o.indexOf("android"),u=-1!==o.search("android [23]"),c=-1!==o.indexOf("gecko"),d=typeof orientation!=void 0+"",m=!s.PointerEvent&&s.MSPointerEvent,p=s.PointerEvent&&s.navigator.pointerEnabled||m,_="devicePixelRatio"in s&&s.devicePixelRatio>1||"matchMedia"in s&&s.matchMedia("(min-resolution:144dpi)")&&s.matchMedia("(min-resolution:144dpi)").matches,f=a.documentElement,g=t&&"transition"in f.style,v="WebKitCSSMatrix"in s&&"m11"in new s.WebKitCSSMatrix&&!u,y="MozPerspective"in f.style,P="OTransition"in f.style,L=!s.L_DISABLE_3D&&(g||v||y||P)&&!r,b=!s.L_NO_TOUCH&&!r&&(p||"ontouchstart"in s||s.DocumentTouch&&a instanceof s.DocumentTouch);l.Browser={ie:t,ielt9:e,webkit:i,gecko:c&&!i&&!s.opera&&!t,android:h,android23:u,chrome:n,ie3d:g,webkit3d:v,gecko3d:y,opera3d:P,any3d:L,mobile:d,mobileWebkit:d&&i,mobileWebkit3d:d&&v,mobileOpera:d&&s.opera,touch:b,msPointer:m,pointer:p,retina:_}}(),l.Point=function(t,e,o){this.x=o?Math.round(t):t,this.y=o?Math.round(e):e},l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},add:function(t){return this.clone()._add(l.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(l.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=l.point(t);var e=t.x-this.x,o=t.y-this.y;return Math.sqrt(e*e+o*o)},equals:function(t){return t=l.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=l.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l.Util.formatNum(this.x)+", "+l.Util.formatNum(this.y)+")"}},l.point=function(t,e,o){return t instanceof l.Point?t:l.Util.isArray(t)?new l.Point(t[0],t[1]):void 0===t||null===t?t:new l.Point(t,e,o)},l.Bounds=function(t,e){if(t)for(var o=e?[t,e]:t,i=0,n=o.length;i<n;i++)this.extend(o[i])},l.Bounds.prototype={extend:function(t){return t=l.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new l.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new l.Point(this.min.x,this.max.y)},getTopRight:function(){return new l.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,o;return t="number"==typeof t[0]||t instanceof l.Point?l.point(t):l.bounds(t),t instanceof l.Bounds?(e=t.min,o=t.max):e=o=t,e.x>=this.min.x&&o.x<=this.max.x&&e.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=l.bounds(t);var e=this.min,o=this.max,i=t.min,n=t.max,s=n.x>=e.x&&i.x<=o.x,a=n.y>=e.y&&i.y<=o.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},l.bounds=function(t,e){return!t||t instanceof l.Bounds?t:new l.Bounds(t,e)},l.Transformation=function(t,e,o,i){this._a=t,this._b=e,this._c=o,this._d=i},l.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new l.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},l.DomUtil={get:function(t){return"string"==typeof t?a.getElementById(t):t},getStyle:function(t,e){var o=t.style[e];if(!o&&t.currentStyle&&(o=t.currentStyle[e]),(!o||"auto"===o)&&a.defaultView){var i=a.defaultView.getComputedStyle(t,null);o=i?i[e]:null}return"auto"===o?null:o},getViewportOffset:function(t){var e,o=0,i=0,n=t,s=a.body,r=a.documentElement;do{if(o+=n.offsetTop||0,i+=n.offsetLeft||0,o+=parseInt(l.DomUtil.getStyle(n,"borderTopWidth"),10)||0,i+=parseInt(l.DomUtil.getStyle(n,"borderLeftWidth"),10)||0,e=l.DomUtil.getStyle(n,"position"),n.offsetParent===s&&"absolute"===e)break;if("fixed"===e){o+=s.scrollTop||r.scrollTop||0,i+=s.scrollLeft||r.scrollLeft||0;break}if("relative"===e&&!n.offsetLeft){var h=l.DomUtil.getStyle(n,"width"),u=l.DomUtil.getStyle(n,"max-width"),c=n.getBoundingClientRect();"none"===h&&"none"===u||(i+=c.left+n.clientLeft),o+=c.top+(s.scrollTop||r.scrollTop||0);break}n=n.offsetParent}while(n);n=t;do{if(n===s)break;o-=n.scrollTop||0,i-=n.scrollLeft||0,n=n.parentNode}while(n);return new l.Point(i,o)},documentIsLtr:function(){return l.DomUtil._docIsLtrCached||(l.DomUtil._docIsLtrCached=!0,l.DomUtil._docIsLtr="ltr"===l.DomUtil.getStyle(a.body,"direction")),l.DomUtil._docIsLtr},create:function(t,e,o){var i=a.createElement(t);return i.className=e,o&&o.appendChild(i),i},hasClass:function(t,e){if(void 0!==t.classList)return t.classList.contains(e);var o=l.DomUtil._getClass(t);return o.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(o)},addClass:function(t,e){if(void 0!==t.classList)for(var o=l.Util.splitWords(e),i=0,n=o.length;i<n;i++)t.classList.add(o[i]);else if(!l.DomUtil.hasClass(t,e)){var s=l.DomUtil._getClass(t);l.DomUtil._setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){void 0!==t.classList?t.classList.remove(e):l.DomUtil._setClass(t,l.Util.trim((" "+l.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e},_getClass:function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var o=!1,i="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),o?(o.Enabled=100!==e,o.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=a.documentElement.style,o=0;o<t.length;o++)if(t[o]in e)return t[o];return!1},getTranslateString:function(t){var e=l.Browser.webkit3d,o="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return o+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){return l.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t)))+" scale("+t+") "},setPosition:function(t,e,o){t._leaflet_pos=e,!o&&l.Browser.any3d?t.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},l.DomUtil.TRANSFORM=l.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),l.DomUtil.TRANSITION=l.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),l.DomUtil.TRANSITION_END="webkitTransition"===l.DomUtil.TRANSITION||"OTransition"===l.DomUtil.TRANSITION?l.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in a)l.extend(l.DomUtil,{disableTextSelection:function(){l.DomEvent.on(s,"selectstart",l.DomEvent.preventDefault)},enableTextSelection:function(){l.DomEvent.off(s,"selectstart",l.DomEvent.preventDefault)}});else{var t=l.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);l.extend(l.DomUtil,{disableTextSelection:function(){if(t){var e=a.documentElement.style;this._userSelect=e[t],e[t]="none"}},enableTextSelection:function(){t&&(a.documentElement.style[t]=this._userSelect,delete this._userSelect)}})}l.extend(l.DomUtil,{disableImageDrag:function(){l.DomEvent.on(s,"dragstart",l.DomEvent.preventDefault)},enableImageDrag:function(){l.DomEvent.off(s,"dragstart",l.DomEvent.preventDefault)}})}(),l.LatLng=function(t,e,o){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,void 0!==o&&(this.alt=parseFloat(o))},l.extend(l.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),l.LatLng.prototype={equals:function(t){return!!t&&(t=l.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=l.LatLng.MAX_MARGIN)},toString:function(t){return"LatLng("+l.Util.formatNum(this.lat,t)+", "+l.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=l.latLng(t);var e=l.LatLng.DEG_TO_RAD,o=(t.lat-this.lat)*e,i=(t.lng-this.lng)*e,n=this.lat*e,s=t.lat*e,a=Math.sin(o/2),r=Math.sin(i/2),h=a*a+r*r*Math.cos(n)*Math.cos(s);return 12756274*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(t,e){var o=this.lng;return t=t||-180,e=e||180,o=(o+e)%(e-t)+(o<t||o===e?e:t),new l.LatLng(this.lat,o)}},l.latLng=function(t,e){return t instanceof l.LatLng?t:l.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new l.LatLng(t[0],t[1],t[2]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new l.LatLng(t.lat,"lng"in t?t.lng:t.lon):void 0===e?null:new l.LatLng(t,e)},l.LatLngBounds=function(t,e){if(t)for(var o=e?[t,e]:t,i=0,n=o.length;i<n;i++)this.extend(o[i])},l.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=l.latLng(t);return t=null!==e?e:l.latLngBounds(t),t instanceof l.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new l.LatLng(t.lat,t.lng),this._northEast=new l.LatLng(t.lat,t.lng)):t instanceof l.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,o=this._northEast,i=Math.abs(e.lat-o.lat)*t,n=Math.abs(e.lng-o.lng)*t;return new l.LatLngBounds(new l.LatLng(e.lat-i,e.lng-n),new l.LatLng(o.lat+i,o.lng+n))},getCenter:function(){return new l.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new l.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new l.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof l.LatLng?l.latLng(t):l.latLngBounds(t);var e,o,i=this._southWest,n=this._northEast;return t instanceof l.LatLngBounds?(e=t.getSouthWest(),o=t.getNorthEast()):e=o=t,e.lat>=i.lat&&o.lat<=n.lat&&e.lng>=i.lng&&o.lng<=n.lng},intersects:function(t){t=l.latLngBounds(t);var e=this._southWest,o=this._northEast,i=t.getSouthWest(),n=t.getNorthEast(),s=n.lat>=e.lat&&i.lat<=o.lat,a=n.lng>=e.lng&&i.lng<=o.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=l.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},l.latLngBounds=function(t,e){return!t||t instanceof l.LatLngBounds?t:new l.LatLngBounds(t,e)},l.Projection={},l.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=l.LatLng.DEG_TO_RAD,o=this.MAX_LATITUDE,i=Math.max(Math.min(o,t.lat),-o),n=t.lng*e,s=i*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new l.Point(n,s)},unproject:function(t){var e=l.LatLng.RAD_TO_DEG,o=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new l.LatLng(i,o)}},l.Projection.LonLat={project:function(t){return new l.Point(t.lng,t.lat)},unproject:function(t){return new l.LatLng(t.y,t.x)}},l.CRS={latLngToPoint:function(t,e){var o=this.projection.project(t),i=this.scale(e);return this.transformation._transform(o,i)},pointToLatLng:function(t,e){var o=this.scale(e),i=this.transformation.untransform(t,o);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return l.point(e,e)}},l.CRS.Simple=l.extend({},l.CRS,{projection:l.Projection.LonLat,transformation:new l.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),l.CRS.EPSG3857=l.extend({},l.CRS,{code:"EPSG:3857",projection:l.Projection.SphericalMercator,transformation:new l.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){return this.projection.project(t).multiplyBy(6378137)}}),l.CRS.EPSG900913=l.extend({},l.CRS.EPSG3857,{code:"EPSG:900913"}),l.CRS.EPSG4326=l.extend({},l.CRS,{code:"EPSG:4326",projection:l.Projection.LonLat,transformation:new l.Transformation(1/360,.5,-1/360,.5)}),l.Map=l.Class.extend({includes:l.Mixin.Events,options:{crs:l.CRS.EPSG3857,fadeAnimation:l.DomUtil.TRANSITION&&!l.Browser.android23,trackResize:!0,markerZoomAnimation:l.DomUtil.TRANSITION&&l.Browser.any3d},initialize:function(t,e){e=l.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=l.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&void 0!==e.zoom&&this.setView(l.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=void 0===e?this.getZoom():e,this._resetView(l.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,o){var i=this.getZoomScale(e),n=this.getSize().divideBy(2),s=t instanceof l.Point?t:this.latLngToContainerPoint(t),a=s.subtract(n).multiplyBy(1-1/i),r=this.containerPointToLatLng(n.add(a));return this.setView(r,e,{zoom:o})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():l.latLngBounds(t);var o=l.point(e.paddingTopLeft||e.padding||[0,0]),i=l.point(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,o.add(i));n=e.maxZoom?Math.min(e.maxZoom,n):n;var s=i.subtract(o).divideBy(2),a=this.project(t.getSouthWest(),n),r=this.project(t.getNorthEast(),n),h=this.unproject(a.add(r).divideBy(2).add(s),n);return this.setView(h,n,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(l.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=l.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var o=this.getCenter(),i=this._limitCenter(o,this._zoom,t);return o.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=l.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&l.TileLayer&&t instanceof l.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=l.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&l.TileLayer&&t instanceof l.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return!!t&&l.stamp(t)in this._layers},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=l.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var o=this.getSize(),i=e.divideBy(2).round(),n=o.divideBy(2).round(),s=i.subtract(n);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},addHandler:function(t,e){if(!e)return this;var o=this[t]=new e(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=void 0}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new l.LatLngBounds(e,o)},getMinZoom:function(){return void 0===this.options.minZoom?void 0===this._layersMinZoom?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,o){t=l.latLngBounds(t);var i,n=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),r=t.getNorthWest(),h=t.getSouthEast(),u=!0;o=l.point(o||[0,0]);do{n++,i=this.project(h,n).subtract(this.project(r,n)).add(o),u=e?i.x<a.x||i.y<a.y:a.contains(i)}while(u&&n<=s);return u&&e?null:e?n:n-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new l.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new l.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(l.latLng(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(l.point(t),e)},layerPointToLatLng:function(t){var e=l.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(l.latLng(t))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return l.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return l.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(l.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(l.latLng(t)))},mouseEventToContainerPoint:function(t){return l.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=l.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;l.DomUtil.addClass(t,"leaflet-container"+(l.Browser.touch?" leaflet-touch":"")+(l.Browser.retina?" leaflet-retina":"")+(l.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=l.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(l.DomUtil.addClass(t.markerPane,e),l.DomUtil.addClass(t.shadowPane,e),l.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return l.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?l.Util.isArray(t)?t:[t]:[];for(var e=0,o=t.length;e<o;e++)this.addLayer(t[e])},_resetView:function(t,e,o,i){var n=this._zoom!==e;i||(this.fire("movestart"),n&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),o?this._initialTopLeftPoint._add(this._getMapPanePos()):l.DomUtil.setPosition(this._mapPane,new l.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!o}),s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(n||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!o})},_rawPanBy:function(t){l.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,o=-1/0,i=this._getZoomSpan();for(t in this._zoomBoundLayers){var n=this._zoomBoundLayers[t];isNaN(n.options.minZoom)||(e=Math.min(e,n.options.minZoom)),isNaN(n.options.maxZoom)||(o=Math.max(o,n.options.maxZoom))}void 0===t?this._layersMaxZoom=this._layersMinZoom=void 0:(this._layersMaxZoom=o,this._layersMinZoom=e),i!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(l.DomEvent){t=t||"on",l.DomEvent[t](this._container,"click",this._onMouseClick,this);var e,o,i=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(e=0,o=i.length;e<o;e++)l.DomEvent[t](this._container,i[e],this._fireMouseEvent,this);this.options.trackResize&&l.DomEvent[t](s,"resize",this._onResize,this)}},_onResize:function(){l.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=l.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||l.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!l.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&l.DomEvent.preventDefault(t);var o=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(o),n=this.layerPointToLatLng(i);this.fire(e,{latlng:n,layerPoint:i,containerPoint:o,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return l.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var o=this.getSize()._divideBy(2);return this.project(t,e)._subtract(o)._round()},_latLngToNewLayerPoint:function(t,e,o){var i=this._getNewTopLeftPoint(o,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,o){if(!o)return t;var i=this.project(t,e),n=this.getSize().divideBy(2),s=new l.Bounds(i.subtract(n),i.add(n)),a=this._getBoundsOffset(s,o,e);return this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var o=this.getPixelBounds(),i=new l.Bounds(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,o){var i=this.project(e.getNorthWest(),o).subtract(t.min),n=this.project(e.getSouthEast(),o).subtract(t.max),s=this._rebound(i.x,-n.x),a=this._rebound(i.y,-n.y);return new l.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),o=this.getMaxZoom();return Math.max(e,Math.min(o,t))}}),l.map=function(t,e){return new l.Map(t,e)},l.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=l.LatLng.DEG_TO_RAD,o=this.MAX_LATITUDE,i=Math.max(Math.min(o,t.lat),-o),n=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*n,r=i*e,h=s/n,u=Math.sqrt(1-h*h),c=u*Math.sin(r);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-r))/c;return r=-n*Math.log(d),new l.Point(a,r)},unproject:function(t){for(var e,o=l.LatLng.RAD_TO_DEG,i=this.R_MAJOR,n=this.R_MINOR,s=t.x*o/i,a=n/i,r=Math.sqrt(1-a*a),h=Math.exp(-t.y/i),u=Math.PI/2-2*Math.atan(h),c=15,d=.1;Math.abs(d)>1e-7&&--c>0;)e=r*Math.sin(u),d=Math.PI/2-2*Math.atan(h*Math.pow((1-e)/(1+e),.5*r))-u,u+=d;return new l.LatLng(u*o,s)}},l.CRS.EPSG3395=l.extend({},l.CRS,{code:"EPSG:3395",projection:l.Projection.Mercator,transformation:function(){var t=l.Projection.Mercator,e=t.R_MAJOR,o=.5/(Math.PI*e);return new l.Transformation(o,.5,-o,.5)}()}),l.TileLayer=l.Class.extend({includes:l.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:l.Browser.mobile,updateWhenIdle:l.Browser.mobile},initialize:function(t,e){e=l.setOptions(this,e),e.detectRetina&&l.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=l.latLngBounds(e.bounds)),this._url=t;var o=this.options.subdomains;"string"==typeof o&&(this.options.subdomains=o.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=l.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var o,i,n,s=t.children,a=-e(1/0,-1/0);for(i=0,n=s.length;i<n;i++)s[i]!==this._container&&(o=parseInt(s[i].style.zIndex,10),isNaN(o)||(a=e(a,o)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(l.Browser.ielt9)for(t in e)l.DomUtil.setOpacity(e[t],this.options.opacity);else l.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=l.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){this._bgBuffer=l.DomUtil.create("div","leaflet-tile-container",this._container),this._tileContainer=l.DomUtil.create("div","leaflet-tile-container",this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,o=this.options.maxNativeZoom,i=this.options.tileSize;return o&&e>o&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(o)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),o=t.getZoom(),i=this._getTileSize();if(!(o>this.options.maxZoom||o<this.options.minZoom)){var n=l.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(n),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(n)}}},_addTilesFromCenterOut:function(t){var e,o,i,n=[],s=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(o=t.min.x;o<=t.max.x;o++)i=new l.Point(o,e),this._tileShouldBeLoaded(i)&&n.push(i);var r=n.length;if(0!==r){n.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)});var h=a.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=r,o=0;o<r;o++)this._addTile(n[o],h);this._tileContainer.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var o=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=o.x)||t.y<0||t.y>=o.y)return!1}if(e.bounds){var i=this._getTileSize(),n=t.multiplyBy(i),s=n.add([i,i]),a=this._map.unproject(n),r=this._map.unproject(s);if(e.continuousWorld||e.noWrap||(a=a.wrap(),r=r.wrap()),!e.bounds.intersects([a,r]))return!1}return!0},_removeOtherTiles:function(t){var e,o,i,n;for(n in this._tiles)e=n.split(":"),o=parseInt(e[0],10),i=parseInt(e[1],10),(o<t.min.x||o>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(n)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(l.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),l.Browser.android||(e.onload=null,e.src=l.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var o=this._getTilePos(t),i=this._getTile();l.DomUtil.setPosition(i,o,l.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),o=this._getTileSize();return t.multiplyBy(o).subtract(e)},getTileUrl:function(t){return l.Util.template(this._url,l.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=l.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=l.Util.falseFn,l.Browser.ielt9&&void 0!==this.options.opacity&&l.DomUtil.setOpacity(t,this.options.opacity),l.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&l.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(l.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==l.Util.emptyImageUrl&&(l.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),l.tileLayer=function(t,e){return new l.TileLayer(t,e)},l.TileLayer.WMS=l.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var o=l.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&l.Browser.retina?o.width=o.height=2*i:o.width=o.height=i;for(var n in e)this.options.hasOwnProperty(n)||"crs"===n||(o[n]=e[n]);this.wmsParams=o,l.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,l.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,o=this.options.tileSize,i=t.multiplyBy(o),n=i.add([o,o]),s=this._crs.project(e.unproject(i,t.z)),a=this._crs.project(e.unproject(n,t.z)),r=this._wmsVersion>=1.3&&this._crs===l.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),h=l.Util.template(this._url,{s:this._getSubdomain(t)});return h+l.Util.getParamString(this.wmsParams,h,!0)+"&BBOX="+r},setParams:function(t,e){return l.extend(this.wmsParams,t),e||this.redraw(),this}}),l.tileLayer.wms=function(t,e){return new l.TileLayer.WMS(t,e)},l.TileLayer.Canvas=l.TileLayer.extend({options:{async:!1},initialize:function(t){l.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=l.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=l.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),l.tileLayer.canvas=function(t){return new l.TileLayer.Canvas(t)},l.ImageOverlay=l.Class.extend({includes:l.Mixin.Events,options:{opacity:1},initialize:function(t,e,o){this._url=t,this._bounds=l.latLngBounds(e),l.setOptions(this,o)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&l.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=l.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&l.Browser.any3d?l.DomUtil.addClass(this._image,"leaflet-zoom-animated"):l.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),l.extend(this._image,{galleryimg:"no",onselectstart:l.Util.falseFn,onmousemove:l.Util.falseFn,onload:l.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,o=this._image,i=e.getZoomScale(t.zoom),n=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(n,t.zoom,t.center),r=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),h=a._add(r._multiplyBy(.5*(1-1/i)));o.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(h)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),o=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);l.DomUtil.setPosition(t,e),t.style.width=o.x+"px",t.style.height=o.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){l.DomUtil.setOpacity(this._image,this.options.opacity)}}),l.imageOverlay=function(t,e,o){return new l.ImageOverlay(t,e,o)},l.Icon=l.Class.extend({options:{className:""},initialize:function(t){l.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var o=this._getIconUrl(t);if(!o){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(o,e):this._createImg(o),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var o,i=this.options,n=l.point(i[e+"Size"]);o="shadow"===e?l.point(i.shadowAnchor||i.iconAnchor):l.point(i.iconAnchor),!o&&n&&(o=n.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return e=e||a.createElement("img"),e.src=t,e},_getIconUrl:function(t){return l.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),l.icon=function(t){return new l.Icon(t)},l.Icon.Default=l.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];l.Browser.retina&&"icon"===t&&(t+="-2x");var o=l.Icon.Default.imagePath;if(!o)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return o+"/marker-"+t+".png"}}),l.Icon.Default.imagePath=function(){var t,e,o,i,n=a.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=n.length;t<e;t++)if(o=n[t].src,o.match(s))return i=o.split(s)[0],(i?i+"/":"")+"images"}(),l.Marker=l.Class.extend({includes:l.Mixin.Events,options:{icon:new l.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){l.setOptions(this,e),this._latlng=l.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=l.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,o=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=o?"leaflet-zoom-animated":"leaflet-zoom-hide",n=t.icon.createIcon(this._icon),s=!1;n!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),l.DomUtil.addClass(n,i),t.keyboard&&(n.tabIndex="0"),this._icon=n,this._initInteraction(),t.riseOnHover&&l.DomEvent.on(n,"mouseover",this._bringToFront,this).on(n,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),r=!1;a!==this._shadow&&(this._removeShadow(),r=!0),a&&l.DomUtil.addClass(a,i),this._shadow=a,t.opacity<1&&this._updateOpacity();var h=this._map._panes;s&&h.markerPane.appendChild(this._icon),a&&r&&h.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&l.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){l.DomUtil.setPosition(this._icon,t),this._shadow&&l.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];l.DomUtil.addClass(t,"leaflet-clickable"),l.DomEvent.on(t,"click",this._onMouseClick,this),l.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var o=0;o<e.length;o++)l.DomEvent.on(t,e[o],this._fireMouseEvent,this);l.Handler.MarkerDrag&&(this.dragging=new l.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&l.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&l.DomEvent.preventDefault(t),"mousedown"!==t.type?l.DomEvent.stopPropagation(t):l.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){l.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&l.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),l.marker=function(t,e){return new l.Marker(t,e)},l.DivIcon=l.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:a.createElement("div"),o=this.options;return!1!==o.html?e.innerHTML=o.html:e.innerHTML="",o.bgPos&&(e.style.backgroundPosition=-o.bgPos.x+"px "+-o.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),l.divIcon=function(t){return new l.DivIcon(t)},l.Map.mergeOptions({closePopupOnClick:!0}),l.Popup=l.Class.extend({includes:l.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){l.setOptions(this,t),this._source=e,this._animated=l.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&l.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&l.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),l.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&l.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=l.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",o=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=l.DomUtil.create("div",o);this.options.closeButton&&(t=this._closeButton=l.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",l.DomEvent.disableClickPropagation(t),l.DomEvent.on(t,"click",this._onCloseButtonClick,this));var n=this._wrapper=l.DomUtil.create("div",e+"-content-wrapper",i);l.DomEvent.disableClickPropagation(n),this._contentNode=l.DomUtil.create("div",e+"-content",n),l.DomEvent.disableScrollPropagation(this._contentNode),l.DomEvent.on(n,"contextmenu",l.DomEvent.stopPropagation),this._tipContainer=l.DomUtil.create("div",e+"-tip-container",i),this._tip=l.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),e.width=o+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,n=this.options.maxHeight;n&&i>n?(e.height=n+"px",l.DomUtil.addClass(t,"leaflet-popup-scrolled")):l.DomUtil.removeClass(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,o=l.point(this.options.offset);e&&l.DomUtil.setPosition(this._container,t),this._containerBottom=-o.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+o.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);l.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,o=this._containerWidth,i=new l.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(l.DomUtil.getPosition(this._container));var n=t.layerPointToContainerPoint(i),s=l.point(this.options.autoPanPadding),a=l.point(this.options.autoPanPaddingTopLeft||s),r=l.point(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),u=0,c=0;n.x+o+r.x>h.x&&(u=n.x+o-h.x+r.x),n.x-u-a.x<0&&(u=n.x-a.x),n.y+e+r.y>h.y&&(c=n.y+e-h.y+r.y),n.y-c-a.y<0&&(c=n.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),l.DomEvent.stop(t)}}),l.popup=function(t,e){return new l.Popup(t,e)},l.Map.include({openPopup:function(t,e,o){if(this.closePopup(),!(t instanceof l.Popup)){var i=t;t=new l.Popup(o).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),l.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var o=l.point(this.options.icon.options.popupAnchor||[0,0]);return o=o.add(l.Popup.prototype.options.offset),e&&e.offset&&(o=o.add(e.offset)),e=l.extend({offset:o},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof l.Popup?(l.setOptions(t,e),this._popup=t,t._source=this):this._popup=new l.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),l.LayerGroup=l.Class.extend({initialize:function(t){this._layers={};var e,o;if(t)for(e=0,o=t.length;e<o;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,o,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)o=this._layers[e],o[t]&&o[t].apply(o,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l.stamp(t)}}),l.layerGroup=function(t){return new l.LayerGroup(t)},l.FeatureGroup=l.LayerGroup.extend({includes:l.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(l.FeatureGroup.EVENTS,this._propagateEvent,this),l.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(l.FeatureGroup.EVENTS,this._propagateEvent,this),l.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new l.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof l.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=l.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),l.featureGroup=function(t){return new l.FeatureGroup(t)},l.Path=l.Class.extend({includes:[l.Mixin.Events],statics:{CLIP_PADDING:function(){var t=l.Browser.mobile?1280:2e3,e=(t/Math.max(s.outerWidth,s.outerHeight)-1)/2;return Math.max(0,Math.min(.5,e))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){l.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,l.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return l.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),l.Map.include({_updatePathViewport:function(){var t=l.Path.CLIP_PADDING,e=this.getSize(),o=l.DomUtil.getPosition(this._mapPane),i=o.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),n=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new l.Bounds(i,n)}}),l.Path.SVG_NS="http://www.w3.org/2000/svg",l.Browser.svg=!(!a.createElementNS||!a.createElementNS(l.Path.SVG_NS,"svg").createSVGRect),l.Path=l.Path.extend({statics:{SVG:l.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,o=t.firstChild;return e&&o!==e&&t.insertBefore(e,o),this},getPathString:function(){},_createElement:function(t){return a.createElementNS(l.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&l.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){!l.Browser.svg&&l.Browser.vml||l.DomUtil.addClass(this._path,"leaflet-clickable"),l.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)l.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,o=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(o),n=e.layerPointToLatLng(i);this.fire(t.type,{latlng:n,layerPoint:i,containerPoint:o,originalEvent:t}),"contextmenu"===t.type&&l.DomEvent.preventDefault(t),"mousemove"!==t.type&&l.DomEvent.stopPropagation(t)}}}),l.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=l.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&l.Browser.any3d?(l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),o=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(o)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,o=t.max,i=o.x-e.x,n=o.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;l.Browser.mobileWebkit&&a.removeChild(s),l.DomUtil.setPosition(s,e),s.setAttribute("width",i),s.setAttribute("height",n),s.setAttribute("viewBox",[e.x,e.y,i,n].join(" ")),l.Browser.mobileWebkit&&a.appendChild(s)}}}),l.Path.include({bindPopup:function(t,e){return t instanceof l.Popup?this._popup=t:(this._popup&&!e||(this._popup=new l.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),l.Browser.vml=!l.Browser.svg&&function(){try{var t=a.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),l.Path=l.Browser.svg||!l.Browser.vml?l.Path:l.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return a.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return a.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return a.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");l.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&l.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,o=this.options,i=this._container;i.stroked=o.stroke,i.filled=o.fill,o.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=o.weight+"px",t.color=o.color,t.opacity=o.opacity,o.dashArray?t.dashStyle=l.Util.isArray(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):t.dashStyle="",o.lineCap&&(t.endcap=o.lineCap.replace("butt","flat")),o.lineJoin&&(t.joinstyle=o.lineJoin)):t&&(i.removeChild(t),this._stroke=null),o.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=o.fillColor||o.color,e.opacity=o.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),l.Map.include(l.Browser.svg||!l.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=a.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),l.Browser.canvas=function(){return!!a.createElement("canvas").getContext}(),l.Path=l.Path.SVG&&!s.L_PREFER_CANVAS||!l.Browser.canvas?l.Path:l.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return l.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!l.Path._updateRequest&&(l.Path._updateRequest=l.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){l.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,o,i,n,s;for(this._ctx.beginPath(),t=0,o=this._parts.length;t<o;t++){for(e=0,i=this._parts[t].length;e<i;e++)n=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](n.x,n.y);this instanceof l.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),l.Map.include(l.Path.SVG&&!s.L_PREFER_CANVAS||!l.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=a.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,o=t.max.subtract(e),i=this._pathRoot;l.DomUtil.setPosition(i,e),i.width=o.x,i.height=o.y,i.getContext("2d").translate(-e.x,-e.y)}}}),l.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var o=e*e;return t=this._reducePoints(t,o),t=this._simplifyDP(t,o)},pointToSegmentDistance:function(t,e,o){return Math.sqrt(this._sqClosestPointOnSegment(t,e,o,!0))},closestPointOnSegment:function(t,e,o){return this._sqClosestPointOnSegment(t,e,o)},_simplifyDP:function(t,e){var o=t.length,i=typeof Uint8Array!=void 0+""?Uint8Array:Array,n=new i(o);n[0]=n[o-1]=1,this._simplifyDPStep(t,n,e,0,o-1);var s,a=[];for(s=0;s<o;s++)n[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,o,i,n){var s,a,r,h=0;for(a=i+1;a<=n-1;a++)(r=this._sqClosestPointOnSegment(t[a],t[i],t[n],!0))>h&&(s=a,h=r);h>o&&(e[s]=1,this._simplifyDPStep(t,e,o,i,s),this._simplifyDPStep(t,e,o,s,n))},_reducePoints:function(t,e){for(var o=[t[0]],i=1,n=0,s=t.length;i<s;i++)this._sqDist(t[i],t[n])>e&&(o.push(t[i]),n=i);return n<s-1&&o.push(t[s-1]),o},clipSegment:function(t,e,o,i){var n,s,a,r=i?this._lastCode:this._getBitCode(t,o),h=this._getBitCode(e,o);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;n=r||h,s=this._getEdgeIntersection(t,e,n,o),a=this._getBitCode(s,o),n===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,o,i){var n=e.x-t.x,s=e.y-t.y,a=i.min,r=i.max;return 8&o?new l.Point(t.x+n*(r.y-t.y)/s,r.y):4&o?new l.Point(t.x+n*(a.y-t.y)/s,a.y):2&o?new l.Point(r.x,t.y+s*(r.x-t.x)/n):1&o?new l.Point(a.x,t.y+s*(a.x-t.x)/n):void 0},_getBitCode:function(t,e){var o=0;return t.x<e.min.x?o|=1:t.x>e.max.x&&(o|=2),t.y<e.min.y?o|=4:t.y>e.max.y&&(o|=8),o},_sqDist:function(t,e){var o=e.x-t.x,i=e.y-t.y;return o*o+i*i},_sqClosestPointOnSegment:function(t,e,o,i){var n,s=e.x,a=e.y,r=o.x-s,h=o.y-a,u=r*r+h*h;return u>0&&(n=((t.x-s)*r+(t.y-a)*h)/u,n>1?(s=o.x,a=o.y):n>0&&(s+=r*n,a+=h*n)),r=t.x-s,h=t.y-a,i?r*r+h*h:new l.Point(s,a)}},l.Polyline=l.Path.extend({initialize:function(t,e){l.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;t<e;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,o="";t<e;t++)o+=this._getPathPartStr(this._parts[t]);return o},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(l.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,o,i=1/0,n=this._parts,s=null,a=0,r=n.length;a<r;a++)for(var h=n[a],u=1,c=h.length;u<c;u++){e=h[u-1],o=h[u];var d=l.LineUtil._sqClosestPointOnSegment(t,e,o,!0);d<i&&(i=d,s=l.LineUtil._sqClosestPointOnSegment(t,e,o))}return s&&(s.distance=Math.sqrt(i)),s},getBounds:function(){return new l.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var o,i,n=e?t:[];for(o=0,i=t.length;o<i;o++){if(l.Util.isArray(t[o])&&"number"!=typeof t[o][0])return;n[o]=l.latLng(t[o])}return n},_initEvents:function(){l.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,o=l.Path.VML,i=0,n=t.length,s="";i<n;i++)e=t[i],o&&e._round(),s+=(i?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,o,i=this._originalPoints,n=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var s=this._parts,a=this._map._pathViewport,r=l.LineUtil;for(t=0,e=0;t<n-1;t++)(o=r.clipSegment(i[t],i[t+1],a,t))&&(s[e]=s[e]||[],s[e].push(o[0]),o[1]===i[t+1]&&t!==n-2||(s[e].push(o[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=l.LineUtil,o=0,i=t.length;o<i;o++)t[o]=e.simplify(t[o],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),l.Path.prototype._updatePath.call(this))}}),l.polyline=function(t,e){return new l.Polyline(t,e)},l.PolyUtil={},l.PolyUtil.clipPolygon=function(t,e){var o,i,n,s,a,r,h,u,c,d=[1,4,2,8],m=l.LineUtil;for(i=0,h=t.length;i<h;i++)t[i]._code=m._getBitCode(t[i],e);for(s=0;s<4;s++){for(u=d[s],o=[],i=0,h=t.length,n=h-1;i<h;n=i++)a=t[i],r=t[n],a._code&u?r._code&u||(c=m._getEdgeIntersection(r,a,u,e),c._code=m._getBitCode(c,e),o.push(c)):(r._code&u&&(c=m._getEdgeIntersection(r,a,u,e),c._code=m._getBitCode(c,e),o.push(c)),o.push(a));t=o}return t},l.Polygon=l.Polyline.extend({options:{fill:!0},initialize:function(t,e){l.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,o,i;if(t&&l.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,o=this._holes.length;e<o;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(l.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,o,i;for(t=0,o=this._holes.length;t<o;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;e<i;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&l.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):l.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var o=0,i=this._parts.length;o<i;o++){var n=l.PolyUtil.clipPolygon(this._parts[o],this._map._pathViewport);n.length&&e.push(n)}this._parts=e}},_getPathPartStr:function(t){return l.Polyline.prototype._getPathPartStr.call(this,t)+(l.Browser.svg?"z":"x")}}),l.polygon=function(t,e){return new l.Polygon(t,e)},function(){function t(t){return l.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var o=0,i=e.length;for(this.eachLayer(function(t){o<i?t.setLatLngs(e[o++]):this.removeLayer(t)},this);o<i;)this.addLayer(new t(e[o++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}l.MultiPolyline=t(l.Polyline),l.MultiPolygon=t(l.Polygon),l.multiPolyline=function(t,e){return new l.MultiPolyline(t,e)},l.multiPolygon=function(t,e){return new l.MultiPolygon(t,e)}}(),l.Rectangle=l.Polygon.extend({initialize:function(t,e){l.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=l.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),l.rectangle=function(t,e){return new l.Rectangle(t,e)},l.Circle=l.Path.extend({initialize:function(t,e,o){l.Path.prototype.initialize.call(this,o),this._latlng=l.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=l.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,o=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-o.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,o=this._latlng;return new l.LatLngBounds([o.lat-e,o.lng-t],[o.lat+e,o.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":l.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(l.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,o=this._point;return o.x-e>t.max.x||o.y-e>t.max.y||o.x+e<t.min.x||o.y+e<t.min.y}}),l.circle=function(t,e,o){return new l.Circle(t,e,o)},l.CircleMarker=l.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){l.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){l.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return l.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),l.circleMarker=function(t,e){return new l.CircleMarker(t,e)},l.Polyline.include(l.Path.CANVAS?{_containsPoint:function(t,e){var o,i,n,s,a,r,h=this.options.weight/2;for(l.Browser.touch&&(h+=10),o=0,s=this._parts.length;o<s;o++)for(r=this._parts[o],i=0,a=r.length,n=a-1;i<a;n=i++)if((e||0!==i)&&l.LineUtil.pointToSegmentDistance(t,r[n],r[i])<=h)return!0;return!1}}:{}),l.Polygon.include(l.Path.CANVAS?{_containsPoint:function(t){var e,o,i,n,s,a,r,h,u=!1;if(l.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(n=0,r=this._parts.length;n<r;n++)for(e=this._parts[n],s=0,h=e.length,a=h-1;s<h;a=s++)o=e[s],i=e[a],o.y>t.y!=i.y>t.y&&t.x<(i.x-o.x)*(t.y-o.y)/(i.y-o.y)+o.x&&(u=!u);return u}}:{}),l.Circle.include(l.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,o=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+o}}:{}),l.CircleMarker.include(l.Path.CANVAS?{_updateStyle:function(){l.Path.prototype._updateStyle.call(this)}}:{}),l.GeoJSON=l.FeatureGroup.extend({initialize:function(t,e){l.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,o,i,n=l.Util.isArray(t)?t:t.features;if(n){for(e=0,o=n.length;e<o;e++)i=n[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(n[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=l.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=l.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(l.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),l.extend(l.GeoJSON,{geometryToLayer:function(t,e,o,i){var n,s,a,r,h="Feature"===t.type?t.geometry:t,u=h.coordinates,c=[];switch(o=o||this.coordsToLatLng,h.type){case"Point":return n=o(u),e?e(t,n):new l.Marker(n);case"MultiPoint":for(a=0,r=u.length;a<r;a++)n=o(u[a]),c.push(e?e(t,n):new l.Marker(n));return new l.FeatureGroup(c);case"LineString":return s=this.coordsToLatLngs(u,0,o),new l.Polyline(s,i);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(u,1,o),new l.Polygon(s,i);case"MultiLineString":return s=this.coordsToLatLngs(u,1,o),new l.MultiPolyline(s,i);case"MultiPolygon":return s=this.coordsToLatLngs(u,2,o),new l.MultiPolygon(s,i);case"GeometryCollection":for(a=0,r=h.geometries.length;a<r;a++)c.push(this.geometryToLayer({geometry:h.geometries[a],type:"Feature",properties:t.properties},e,o,i));return new l.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new l.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,o){var i,n,s,a=[];for(n=0,s=t.length;n<s;n++)i=e?this.coordsToLatLngs(t[n],e-1,o):(o||this.coordsToLatLng)(t[n]),a.push(i);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return void 0!==t.alt&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],o=0,i=t.length;o<i;o++)e.push(l.GeoJSON.latLngToCoords(t[o]));return e},getFeature:function(t,e){return t.feature?l.extend({},t.feature,{geometry:e}):l.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var c={toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"Point",coordinates:l.GeoJSON.latLngToCoords(this.getLatLng())})}};l.Marker.include(c),l.Circle.include(c),l.CircleMarker.include(c),l.Polyline.include({toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"LineString",coordinates:l.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),l.Polygon.include({toGeoJSON:function(){var t,e,o,i=[l.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;t<e;t++)o=l.GeoJSON.latLngsToCoords(this._holes[t]),o.push(o[0]),i.push(o);return l.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),l.GeoJSON.getFeature(this,{type:t,coordinates:e})}}l.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),l.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),l.LayerGroup.include({toGeoJSON:function(){var e,o=this.feature&&this.feature.geometry,i=[];if(o&&"MultiPoint"===o.type)return t("MultiPoint").call(this);var n=o&&"GeometryCollection"===o.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(n?e.geometry:l.GeoJSON.asFeature(e)))}),n?l.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),l.geoJson=function(t,e){return new l.GeoJSON(t,e)},l.DomEvent={addListener:function(t,e,o,i){var n,s,a,r=l.stamp(o),h="_leaflet_"+e+r;return t[h]?this:(n=function(e){return o.call(i||t,e||l.DomEvent._getEvent())},l.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,n,r):(l.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,n,r),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener(e,n,!1)):"mouseenter"===e||"mouseleave"===e?(s=n,a="mouseenter"===e?"mouseover":"mouseout",n=function(e){if(l.DomEvent._checkMouse(t,e))return s(e)},t.addEventListener(a,n,!1)):"click"===e&&l.Browser.android?(s=n,n=function(t){return l.DomEvent._filterClick(t,s)},t.addEventListener(e,n,!1)):t.addEventListener(e,n,!1):"attachEvent"in t&&t.attachEvent("on"+e,n),t[h]=n,this))},removeListener:function(t,e,o){var i=l.stamp(o),n="_leaflet_"+e+i,s=t[n];return s?(l.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):l.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[n]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,l.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=l.DomEvent.stopPropagation;return l.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=l.DomEvent.stopPropagation,o=l.Draggable.START.length-1;o>=0;o--)l.DomEvent.on(t,l.Draggable.START[o],e);return l.DomEvent.on(t,"click",l.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return l.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new l.Point(t.clientX,t.clientY);var o=e.getBoundingClientRect();return new l.Point(t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){l.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var o=e.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch(t){return!1}return o!==t},_getEvent:function(){var t=s.event;if(!t)for(var e=arguments.callee.caller;e&&(!(t=e.arguments[0])||s.Event!==t.constructor);)e=e.caller;return t},_filterClick:function(t,e){var o=t.timeStamp||t.originalEvent.timeStamp,i=l.DomEvent._lastClick&&o-l.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void l.DomEvent.stop(t):(l.DomEvent._lastClick=o,e(t))}},l.DomEvent.on=l.DomEvent.addListener,l.DomEvent.off=l.DomEvent.removeListener,l.Draggable=l.Class.extend({includes:l.Mixin.Events,statics:{START:l.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=l.Draggable.START.length-1;t>=0;t--)l.DomEvent.on(this._dragStartTarget,l.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=l.Draggable.START.length-1;t>=0;t--)l.DomEvent.off(this._dragStartTarget,l.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(l.DomEvent.stopPropagation(t),!l.Draggable._disabled&&(l.DomUtil.disableImageDrag(),l.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new l.Point(e.clientX,e.clientY),this._startPos=this._newPos=l.DomUtil.getPosition(this._element),l.DomEvent.on(a,l.Draggable.MOVE[t.type],this._onMove,this).on(a,l.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,o=new l.Point(e.clientX,e.clientY),i=o.subtract(this._startPoint);(i.x||i.y)&&(l.Browser.touch&&Math.abs(i.x)+Math.abs(i.y)<3||(l.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=l.DomUtil.getPosition(this._element).subtract(i),l.DomUtil.addClass(a.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,l.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,l.Util.cancelAnimFrame(this._animRequest),this._animRequest=l.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),l.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){l.DomUtil.removeClass(a.body,"leaflet-dragging"),this._lastTarget&&(l.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in l.Draggable.MOVE)l.DomEvent.off(a,l.Draggable.MOVE[t],this._onMove).off(a,l.Draggable.END[t],this._onUp);l.DomUtil.enableImageDrag(),l.DomUtil.enableTextSelection(),this._moved&&this._moving&&(l.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),l.Handler=l.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),l.Map.mergeOptions({dragging:!0,inertia:!l.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:l.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),l.Map.Drag=l.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new l.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),o=this._initialWorldOffset,i=this._draggable._newPos.x,n=(i-e+o)%t+e-o,s=(i+e+o)%t-e-o,a=Math.abs(n+o)<Math.abs(s+o)?n:s;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,o=e.options,i=+new Date-this._lastTime,n=!o.inertia||i>o.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),n)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+i-this._times[0])/1e3,r=o.easeLinearity,h=s.multiplyBy(r/a),u=h.distanceTo([0,0]),c=Math.min(o.inertiaMaxSpeed,u),d=h.multiplyBy(c/u),m=c/(o.inertiaDeceleration*r),p=d.multiplyBy(-m/2).round();p.x&&p.y?(p=e._limitOffset(p,e.options.maxBounds),l.Util.requestAnimFrame(function(){e.panBy(p,{duration:m,easeLinearity:r,noMoveStart:!0})})):e.fire("moveend")}}}),l.Map.addInitHook("addHandler","dragging",l.Map.Drag),l.Map.mergeOptions({doubleClickZoom:!0}),l.Map.DoubleClickZoom=l.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,o=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),l.Map.addInitHook("addHandler","doubleClickZoom",l.Map.DoubleClickZoom),l.Map.mergeOptions({scrollWheelZoom:!0}),l.Map.ScrollWheelZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),l.DomEvent.on(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault),this._delta=0},removeHooks:function(){l.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),l.DomEvent.off(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=l.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l.bind(this._performZoom,this),o),l.DomEvent.preventDefault(t),l.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,o=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(o+e)-o,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(o+e):t.setZoomAround(this._lastMousePos,o+e))}}),l.Map.addInitHook("addHandler","scrollWheelZoom",l.Map.ScrollWheelZoom),l.extend(l.DomEvent,{_touchstart:l.Browser.msPointer?"MSPointerDown":l.Browser.pointer?"pointerdown":"touchstart",_touchend:l.Browser.msPointer?"MSPointerUp":l.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,o){function i(t){var e;if(l.Browser.pointer?(m.push(t.pointerId),e=m.length):e=t.touches.length,!(e>1)){var o=Date.now(),i=o-(s||o);r=t.touches?t.touches[0]:t,h=i>0&&i<=u,s=o}}function n(t){if(l.Browser.pointer){var o=m.indexOf(t.pointerId);if(-1===o)return;m.splice(o,1)}if(h){if(l.Browser.pointer){var i,n={};for(var a in r)i=r[a],n[a]="function"==typeof i?i.bind(r):i;r=n}r.type="dblclick",e(r),s=null}}var s,r,h=!1,u=250,c=this._touchstart,d=this._touchend,m=[];t["_leaflet_"+c+o]=i,t["_leaflet_"+d+o]=n;var p=l.Browser.pointer?a.documentElement:t;return t.addEventListener(c,i,!1),p.addEventListener(d,n,!1),l.Browser.pointer&&p.addEventListener(l.DomEvent.POINTER_CANCEL,n,!1),this},removeDoubleTapListener:function(t,e){var o="_leaflet_";return t.removeEventListener(this._touchstart,t[o+this._touchstart+e],!1),(l.Browser.pointer?a.documentElement:t).removeEventListener(this._touchend,t[o+this._touchend+e],!1),l.Browser.pointer&&a.documentElement.removeEventListener(l.DomEvent.POINTER_CANCEL,t[o+this._touchend+e],!1),this}}),l.extend(l.DomEvent,{POINTER_DOWN:l.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:l.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:l.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:l.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,o,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,o,i);case"touchend":return this.addPointerListenerEnd(t,e,o,i);case"touchmove":return this.addPointerListenerMove(t,e,o,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,o,i){var n=this._pointers,s=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&l.DomEvent.preventDefault(t);for(var e=!1,i=0;i<n.length;i++)if(n[i].pointerId===t.pointerId){e=!0;break}e||n.push(t),t.touches=n.slice(),t.changedTouches=[t],o(t)};if(t["_leaflet_touchstart"+i]=s,t.addEventListener(this.POINTER_DOWN,s,!1),!this._pointerDocumentListener){var r=function(t){for(var e=0;e<n.length;e++)if(n[e].pointerId===t.pointerId){n.splice(e,1);break}};a.documentElement.addEventListener(this.POINTER_UP,r,!1),a.documentElement.addEventListener(this.POINTER_CANCEL,r,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,o,i){function n(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],o(t)}}var s=this._pointers;return t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1),this},addPointerListenerEnd:function(t,e,o,i){var n=this._pointers,s=function(t){for(var e=0;e<n.length;e++)if(n[e].pointerId===t.pointerId){n.splice(e,1);break}t.touches=n.slice(),t.changedTouches=[t],o(t)};return t["_leaflet_touchend"+i]=s,t.addEventListener(this.POINTER_UP,s,!1),t.addEventListener(this.POINTER_CANCEL,s,!1),this},removePointerListener:function(t,e,o){var i=t["_leaflet_"+e+o];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,i,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,i,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)}return this}}),l.Map.mergeOptions({touchZoom:l.Browser.touch&&!l.Browser.android23,bounceAtZoomLimits:!0}),l.Map.TouchZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var o=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]),n=e._getCenterLayerPoint();this._startCenter=o.add(i)._divideBy(2),this._startDist=o.distanceTo(i),this._moved=!1,this._zooming=!0,this._centerOffset=n.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),l.DomEvent.on(a,"touchmove",this._onTouchMove,this).on(a,"touchend",this._onTouchEnd,this),l.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var o=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=o.distanceTo(i)/this._startDist,this._delta=o._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(!e.options.bounceAtZoomLimits&&(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1)||(this._moved||(l.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),l.Util.cancelAnimFrame(this._animRequest),this._animRequest=l.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),l.DomEvent.preventDefault(t)))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),o=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(o,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,l.DomUtil.removeClass(t._mapPane,"leaflet-touching"),l.Util.cancelAnimFrame(this._animRequest),l.DomEvent.off(a,"touchmove",this._onTouchMove).off(a,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),o=t.layerPointToLatLng(e),i=t.getZoom(),n=t.getScaleZoom(this._scale)-i,s=n>0?Math.ceil(n):Math.floor(n),r=t._limitZoom(i+s),h=t.getZoomScale(r)/this._scale;t._animateZoom(o,r,e,h)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),l.Map.addInitHook("addHandler","touchZoom",l.Map.TouchZoom),l.Map.mergeOptions({tap:!0,tapTolerance:15}),l.Map.Tap=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(l.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],o=e.target;this._startPos=this._newPos=new l.Point(e.clientX,e.clientY),o.tagName&&"a"===o.tagName.toLowerCase()&&l.DomUtil.addClass(o,"leaflet-active"),this._holdTimeout=setTimeout(l.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),l.DomEvent.on(a,"touchmove",this._onMove,this).on(a,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),l.DomEvent.off(a,"touchmove",this._onMove,this).off(a,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],o=e.target;o&&o.tagName&&"a"===o.tagName.toLowerCase()&&l.DomUtil.removeClass(o,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new l.Point(e.clientX,e.clientY)},_simulateEvent:function(t,e){var o=a.createEvent("MouseEvents");o._simulated=!0,e.target._simulatedClick=!0,o.initMouseEvent(t,!0,!0,s,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o)}}),l.Browser.touch&&!l.Browser.pointer&&l.Map.addInitHook("addHandler","tap",l.Map.Tap),l.Map.mergeOptions({boxZoom:!0}),l.Map.BoxZoom=l.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){l.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){if(this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button)return!1;l.DomUtil.disableTextSelection(),l.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),l.DomEvent.on(a,"mousemove",this._onMouseMove,this).on(a,"mouseup",this._onMouseUp,this).on(a,"keydown",this._onKeyDown,this)},_onMouseMove:function(t){this._moved||(this._box=l.DomUtil.create("div","leaflet-zoom-box",this._pane),l.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,o=this._box,i=this._map.mouseEventToLayerPoint(t),n=i.subtract(e),s=new l.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));l.DomUtil.setPosition(o,s),this._moved=!0,o.style.width=Math.max(0,Math.abs(n.x)-4)+"px",o.style.height=Math.max(0,Math.abs(n.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),l.DomUtil.enableTextSelection(),l.DomUtil.enableImageDrag(),l.DomEvent.off(a,"mousemove",this._onMouseMove).off(a,"mouseup",this._onMouseUp).off(a,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,o=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(o)){var i=new l.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(o));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),l.Map.addInitHook("addHandler","boxZoom",l.Map.BoxZoom),l.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),l.Map.Keyboard=l.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),l.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;l.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var t=a.body,e=a.documentElement,o=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),s.scrollTo(i,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,o,i=this._panKeys={},n=this.keyCodes;for(e=0,o=n.left.length;e<o;e++)i[n.left[e]]=[-1*t,0];for(e=0,o=n.right.length;e<o;e++)i[n.right[e]]=[t,0];for(e=0,o=n.down.length;e<o;e++)i[n.down[e]]=[0,t];for(e=0,o=n.up.length;e<o;e++)i[n.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,o,i=this._zoomKeys={},n=this.keyCodes;for(e=0,o=n.zoomIn.length;e<o;e++)i[n.zoomIn[e]]=t;for(e=0,o=n.zoomOut.length;e<o;e++)i[n.zoomOut[e]]=-t},_addHooks:function(){l.DomEvent.on(a,"keydown",this._onKeyDown,this)},_removeHooks:function(){l.DomEvent.off(a,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,o=this._map;if(e in this._panKeys){if(o._panAnim&&o._panAnim._inProgress)return;o.panBy(this._panKeys[e]),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds)}else{if(!(e in this._zoomKeys))return;o.setZoom(o.getZoom()+this._zoomKeys[e])}l.DomEvent.stop(t)}}),l.Map.addInitHook("addHandler","keyboard",l.Map.Keyboard),l.Handler.MarkerDrag=l.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new l.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),l.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),l.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,o=l.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(o);e&&l.DomUtil.setPosition(e,o),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),l.Control=l.Class.extend({options:{position:"topright"},initialize:function(t){l.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),o=this.getPosition(),i=t._controlCorners[o];return l.DomUtil.addClass(e,"leaflet-control"),-1!==o.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition();return t._controlCorners[e].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),l.control=function(t){return new l.Control(t)},l.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,n){var s=o+t+" "+o+n;e[t+n]=l.DomUtil.create("div",s,i)}var e=this._controlCorners={},o="leaflet-",i=this._controlContainer=l.DomUtil.create("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),l.Control.Zoom=l.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",o=l.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",o,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",o,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,o,i,n,s){var a=l.DomUtil.create("a",o,i);a.innerHTML=t,a.href="#",a.title=e;var r=l.DomEvent.stopPropagation;return l.DomEvent.on(a,"click",r).on(a,"mousedown",r).on(a,"dblclick",r).on(a,"click",l.DomEvent.preventDefault).on(a,"click",n,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";l.DomUtil.removeClass(this._zoomInButton,e),l.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&l.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&l.DomUtil.addClass(this._zoomInButton,e)}}),l.Map.mergeOptions({zoomControl:!0}),l.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new l.Control.Zoom,this.addControl(this.zoomControl))}),l.control.zoom=function(t){return new l.Control.Zoom(t)},l.Control.Attribution=l.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=l.DomUtil.create("div","leaflet-control-attribution"),l.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(t)return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(t)return this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),l.Map.mergeOptions({attributionControl:!0}),l.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new l.Control.Attribution).addTo(this))}),l.control.attribution=function(t){return new l.Control.Attribution(t)},l.Control.Scale=l.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e=l.DomUtil.create("div","leaflet-control-scale"),o=this.options;return this._addScales(o,"leaflet-control-scale",e),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,o){t.metric&&(this._mScale=l.DomUtil.create("div",e+"-line",o)),t.imperial&&(this._iScale=l.DomUtil.create("div",e+"-line",o))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,o=6378137*Math.PI*Math.cos(e*Math.PI/180),i=o*(t.getNorthEast().lng-t.getSouthWest().lng)/180,n=this._map.getSize(),s=this.options,a=0;n.x>0&&(a=i*(s.maxWidth/n.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=e<1e3?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,o,i,n=3.2808399*t,s=this._iScale;n>5280?(e=n/5280,o=this._getRoundNum(e),s.style.width=this._getScaleWidth(o/e)+"px",s.innerHTML=o+" mi"):(i=this._getRoundNum(n),s.style.width=this._getScaleWidth(i/n)+"px",s.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),o=t/e;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,e*o}}),l.control.scale=function(t){return new l.Control.Scale(t)},l.Control.Layers=l.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,o){l.setOptions(this,o),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=l.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=l.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),l.Browser.touch?l.DomEvent.on(e,"click",l.DomEvent.stopPropagation):l.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var o=this._form=l.DomUtil.create("form",t+"-list");if(this.options.collapsed){l.Browser.android||l.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=l.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",l.Browser.touch?l.DomEvent.on(i,"click",l.DomEvent.stop).on(i,"click",this._expand,this):l.DomEvent.on(i,"focus",this._expand,this),l.DomEvent.on(o,"click",function(){setTimeout(l.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=l.DomUtil.create("div",t+"-base",o),this._separator=l.DomUtil.create("div",t+"-separator",o),this._overlaysList=l.DomUtil.create("div",t+"-overlays",o),e.appendChild(o)},_addLayer:function(t,e,o){var i=l.stamp(t);this._layers[i]={layer:t,name:e,overlay:o},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,o=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,o=o||!e.overlay;this._separator.style.display=i&&o?"":"none"}},_onLayerChange:function(t){var e=this._layers[l.stamp(t.layer)];if(e){this._handlingClick||this._update();var o=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;o&&this._map.fire(o,e)}},_createRadioElement:function(t,e){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(o+=' checked="checked"'),o+="/>";var i=a.createElement("div");return i.innerHTML=o,i.firstChild},_addItem:function(t){var e,o=a.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?(e=a.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),e.layerId=l.stamp(t.layer),l.DomEvent.on(e,"click",this._onInputClick,this);var n=a.createElement("span");return n.innerHTML=" "+t.name,o.appendChild(e),o.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(o),o},_onInputClick:function(){var t,e,o,i=this._form.getElementsByTagName("input"),n=i.length;for(this._handlingClick=!0,t=0;t<n;t++)e=i[t],o=this._layers[e.layerId],e.checked&&!this._map.hasLayer(o.layer)?this._map.addLayer(o.layer):!e.checked&&this._map.hasLayer(o.layer)&&this._map.removeLayer(o.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){l.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),l.control.layers=function(t,e,o){return new l.Control.Layers(t,e,o)},l.PosAnimation=l.Class.extend({includes:l.Mixin.Events,run:function(t,e,o,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[l.DomUtil.TRANSITION]="all "+(o||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",l.DomEvent.on(t,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this),l.DomUtil.setPosition(t,e),l.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(l.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(l.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),l.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();if(!t)return void this._onTransitionEnd();this._el._leaflet_pos=t,this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var t,e,o,i=this._el,n=s.getComputedStyle(i);if(l.Browser.any3d){if(!(o=n[l.DomUtil.TRANSFORM].match(this._transformRe)))return;t=parseFloat(o[1]),e=parseFloat(o[2])}else t=parseFloat(n.left),e=parseFloat(n.top);return new l.Point(t,e,!0)},_onTransitionEnd:function(){l.DomEvent.off(this._el,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[l.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),l.Map.include({setView:function(t,e,o){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(l.latLng(t),e,this.options.maxBounds),o=o||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!o.reset&&!0!==o){void 0!==o.animate&&(o.zoom=l.extend({animate:o.animate},o.zoom),o.pan=l.extend({animate:o.animate},o.pan));if(this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=l.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new l.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){l.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,o,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){l.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var o=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(o))&&(this.panBy(o,e),!0)}}),l.PosAnimation=l.DomUtil.TRANSITION?l.PosAnimation:l.PosAnimation.extend({run:function(t,e,o,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=l.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=l.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;t<e?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));l.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){l.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),l.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),l.DomUtil.TRANSITION&&l.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&l.DomUtil.TRANSITION&&l.Browser.any3d&&!l.Browser.android23&&!l.Browser.mobileOpera,this._zoomAnimated&&l.DomEvent.on(this._mapPane,l.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),l.Map.include(l.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||!1===o.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/i),s=this._getCenterLayerPoint()._add(n);return!(!0!==o.animate&&!this.getSize().contains(n))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,s,i,null,!0),!0)},_animateZoom:function(t,e,o,i,n,s,a){a||(this._animatingZoom=!0),l.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,l.Draggable&&(l.Draggable._disabled=!0),l.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:o,scale:i,delta:n,backwards:s}),setTimeout(l.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,l.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),l.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),l.Draggable&&(l.Draggable._disabled=!1)},this))}}:{}),l.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,o=l.DomUtil.TRANSFORM,i=t.delta?l.DomUtil.getTranslateString(t.delta):e.style[o],n=l.DomUtil.getScaleString(t.scale,t.origin);e.style[o]=t.backwards?n+" "+i:i+" "+n},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),l.Util.falseFn(e.offsetWidth);var o=this._map.getZoom();(o>this.options.maxZoom||o<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[l.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,o=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);if(e&&o>.5&&i<.5)return t.style.visibility="hidden",void this._stopLoadingImages(t);e.style.visibility="hidden",e.style[l.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(t){var e,o,i=t.getElementsByTagName("img"),n=0;for(e=0,o=i.length;e<o;e++)i[e].complete&&n++;return n/o},_stopLoadingImages:function(t){var e,o,i,n=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,o=n.length;e<o;e++)i=n[e],i.complete||(i.onload=l.Util.falseFn,i.onerror=l.Util.falseFn,i.src=l.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),l.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=l.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=l.bind(this._handleGeolocationResponse,this),o=l.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,o=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+o+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,o=t.coords.longitude,i=new l.LatLng(e,o),n=180*t.coords.accuracy/40075017,s=n/Math.cos(l.LatLng.DEG_TO_RAD*e),a=l.latLngBounds([e-n,o-s],[e+n,o+s]),r=this._locateOptions;if(r.setView){var h=Math.min(this.getBoundsZoom(a),r.maxZoom);this.setView(i,h)}var u={latlng:i,bounds:a,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document)},673:function(t,e,o){"use strict";var i=o(291);e.SCHOOL_DATA=[{donationMonth:i.AUG_16,freeLunchPercent:87,geolocation:{lat:37.736667,lng:-122.412629},grades:"Pre-K to 8",location:"Bernal Heights, San Francisco",name:"Paul Revere Elementary",numStudents:500,quote:{author:"Shannon Engelbrecht",authorPosition:"School Librarian",quote:"BookBooster will help upgrade our school library, which students use every day for homework and classwork. Our students need this. SO much. Thank you. Thank you thank you thank you!"}},{donationMonth:i.AUG_16,freeLunchPercent:96,geolocation:{lat:37.731827,lng:-122.39362},grades:"Pre-K to 8",location:"Bayview, San Francisco",name:"Dr. Charles Drew College Prep",numStudents:325,quote:{author:"Carolyn Samoa",authorPosition:"School Staff Member",quote:"New books will allow a greater number of students to access materials at their appropriate grade level, and will increase the chances that students will be able to find literature on a topic that they are interested in. THANK YOU BookBooster for all your help!"}},{donationMonth:i.SEPT_16,freeLunchPercent:72,geolocation:{lat:37.753155,lng:-122.420189},grades:"K to 8",location:"Mission, San Francisco",name:"Buena Vista Horace Mann K-8 School",numStudents:557,quote:{author:"Sarah Carp",authorPosition:"Instructional Coach",quote:"BookBooster is helping students who read below grade level find books that they love and want to read at home.  Having books available at home helps them become enthusiastic readers.  Thank you for helping our students get books."}},{donationMonth:i.SEPT_16,freeLunchPercent:94,geolocation:{lat:37.754945,lng:-122.415188},grades:"Pre-K to 5",location:"Mission, San Francisco",name:"Csar Chvez Elementary School",numStudents:439,quote:{author:"Nathalie Hrizi",authorPosition:"School Librarian",quote:"BookBooster will help upgrade a classroom library in a special education class for students who are deaf or hard of hearing and allow our school library to buy new books to augment our collection. These books will be used by hundreds of children who will have access to quality, engaging literature because of YOU. Thank you!"}},{donationMonth:i.OCT_16,freeLunchPercent:90,geolocation:{lat:37.7338,lng:-122.380963},grades:"Pre-K to 5",location:"Bayview, San Francisco",name:"Malcolm X Elementary School",numStudents:100,quote:{author:"Elena Rosen",authorPosition:"School Principal",quote:"BookBooster will help us keep our libraries responsive to student needs and interests so that we can help them become lifelong readers. Thank you so much for helping us educate our future leaders!"}},{donationMonth:i.OCT_16,freeLunchPercent:100,geolocation:{lat:37.751679,lng:-122.404606},grades:"Pre-K to 5",location:"Mission, San Francisco",name:"Bryant Elementary School",numStudents:275,quote:{author:"Elizabeth Torres",authorPosition:"Family Liaison",quote:"Bryant Elementary, a proud San Francisco public school in the Mission District believes that reading, especially in many languages , is our connection to the world and ourselves."}},{donationMonth:i.NOV_16,freeLunchPercent:77,geolocation:{lat:37.776221,lng:-122.406347},grades:"Pre-K to 8",location:"SoMa, San Francisco",name:"Bessie Carmichael Elementary School",numStudents:650,quote:{author:"Sarah Pooner",authorPosition:"Assistant Principal",quote:"BookBooster will help make sure that all of our classroom libraries are full of new, leveled books our students will be excited to read!"}},{donationMonth:i.NOV_16,freeLunchPercent:65,geolocation:{lat:37.776221,lng:-122.406347},grades:"Pre-K to 8",location:"Excelsior, San Francisco",name:"San Francisco Community School",numStudents:275,quote:{author:"Tawnya Dudash",authorPosition:"School Librarian",quote:"BookBooster books will allow students to begin to build their own personal home libraries.  Having books that students choose themselves and which are interesting and appealing will increase the likelihood that they will read them.  And since they will be able to keep their books at home, they can read them again and again and again!  Thank you, BookBooster!"}},{donationMonth:i.FEB_17,freeLunchPercent:90,geolocation:{lat:37.727278,lng:-122.17875},grades:"6 to 12",location:"Sobrante Park, Oakland",name:"Madison Park Business & Art Academy",numStudents:600,quote:{author:"Bianca Lorenz",authorPosition:"7th Grade Teacher",quote:"One of our goals is at MPA is to increase cross-curricular opportunities for our students. This grant from BookBooster will allow us to purchase more books to provide students with resources and stories that connect all of their grade-level content. Thank you for your support and helping us improve our literacy skills at MPA!"}},{donationMonth:i.JAN_17,freeLunchPercent:97,geolocation:{lat:37.742599,lng:-122.167822},grades:"Pre-K to 5",location:"Iveywood, Oakland",name:"Aspire Monarch Academy",numStudents:400,quote:{author:"Kyoko Utsumi",authorPosition:"3rd Grade Teacher",quote:"By having new books in our class, students will have a leveled library that will allow them to read a variety of just-right books both at school and at home. From the bottom of our hearts, thank you so much BookBooster for all of your support! Our class appreciates you so so so much!"}},{donationMonth:i.JAN_17,freeLunchPercent:92,geolocation:{lat:37.786419,lng:-122.235319},grades:"K to 5",location:"San Antonio, Oakland",name:"Garfield Elementary School",numStudents:604,quote:{author:"Alicia Arenas",authorPosition:"Principal",quote:"BookBooster will help ensure that there are enough good fit books for every one of my students. Good fit books are challenging, accessible, and interesting. These books will not only push my students to the next reading level, but make them fall in love with reading in the process."}},{freeLunchPercent:82,geolocation:{lat:37.789735,lng:-122.236934},grades:"6 to 8",location:"San Antonio, Oakland",name:"Roosevelt Middle School",numStudents:550},{donationMonth:i.FEB_17,freeLunchPercent:97,geolocation:{lat:37.92321,lng:-122.328779},grades:"Pre-K to 8",location:"Laurel Park, Richmond",name:"Caliber Beta Academy",numStudents:650,quote:{author:"Tracy Kimball",authorPosition:"Kindergarten Teacher",quote:"BookBooster will help us buy diverse books that are culturally relevant for our students. Thank you BookBooster!"}},{donationMonth:i.APR_17,freeLunchPercent:92,geolocation:{lat:37.326766,lng:-121.835174},grades:"5 to 8",location:"Alum Rock, San Jose",name:"Alpha: Jos Hernndez Middle School",numStudents:460,quote:{author:"Jonathan Glocknitzer",authorPosition:"8th Grade Teacher",quote:"BookBooster will help enhance our school and classroom libraries. This will then promote more literacy. I can't wait to see the look in the students eyes when we give them the new books. Thank you!"}},{donationMonth:i.MAR_17,freeLunchPercent:95,geolocation:{lat:37.348289,lng:-121.843823},grades:"5 to 8",location:"Mayfair, San Jose",name:"ACE Empower Academy",numStudents:400,quote:{author:"Reissa Noriega",authorPosition:"Math, Science & English Grade Teacher",quote:"Our students are getting better at choosing appropriate grade-level books, but were still lacking books that our students find interesting. BookBooster will provide our students with books based on their personal preferences, and interests. Thank you BookBooster!"}},{donationMonth:i.MAR_17,freeLunchPercent:75,geolocation:{lat:37.348289,lng:-121.843823},grades:"10 to 12",location:"Cambrian Park, San Jose",name:"Broadway High School",numStudents:250,quote:{author:"Berton Mahardja",authorPosition:"Guided Studies Teacher",quote:"Elective non-readers elect to read... when they have good books. BookBooster will allow our students access to books that they will want to read. This reading development goes a long way in our continuation school where students have not had positive experiences with reading. Thank you BookBooster!"}},{donationMonth:i.APR_17,freeLunchPercent:100,geolocation:{lat:37.96133,lng:-122.363396},grades:"K to 6",location:"North Richmond, Richmond",name:"Verde Elementary School",numStudents:325,quote:{author:"Hugo Martinez Bernardino",authorPosition:"5th Grade Teacher",quote:"At Verde all students are working to become college graduates, leaders, and lifelong learners. BookBooster will support our implementation of Reader's Workshop, outfitting classrooms with books to facilitate guided reading, small group work, and book clubs. Our school community is grateful to partner with BookBooster to ensure that all students have access to high interest text."}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:93,geolocation:{lat:37.773947,lng:-122.182472},grades:"Pre-K to 5",location:"Frick, Oakland",name:"Aspire Triumph Technology Academy",numStudents:300,quote:{author:"Vanessa Nguyen",authorPosition:"Educational Technology Specialist",quote:"BookBoosters Book Grant helped our school purchase more culturally relevant, high-interest books for our very first school library!  The kids are so excited about the upcoming grand opening, and this would not have been possible without the generosity of organizations like these committed to growing literacy opportunities for our little ones.  Thank you BookBooster!"}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:62,geolocation:{lat:37.284464,lng:-121.8767},grades:"K to 5",location:"Summer Creek, San Jose",name:"Canoas Elementary",numStudents:300,quote:{author:"Suzan Allmon",authorPosition:"Library Media Assistant",quote:"Thank you BookBooster for providing our school library with much needed new books that our students want to read."}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:74,geolocation:{lat:37.829145,lng:-122.248609},grades:"K to 5",location:"Piedmont, Oakland",name:"Piedmont Avenue Elementary School",numStudents:343,quote:{author:"James Hilton Harrell",authorPosition:"Executive Director of Instruction",quote:"I cannot begin to thank BookBooster for the donation to my school. We were able to provide 343 students with a new, culturally relevant book. For at least one of my students, this was the first book that they ever owned. It was such an incredible experience that could not have happened without your direct support. We are so incredibly grateful that you helped us create life long readers!"}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:48,geolocation:{lat:37.306831,lng:-121.824663},grades:"Pre-K to 5",location:"Windmill Spring, San Jose",name:"Windmill Springs Elementary School",numStudents:450,quote:{author:"Cyndi Gale",authorPosition:"Teacher",quote:"I provide many books in my classroom library, but I wanted my students to have books of their own. When I told them that we had been gifted funds, they were thrilled to be able to shop for books and were so grateful that they were absolutely free. They asked every day when the books would arrive and were so excited when the books finally came."}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:48,geolocation:{lat:37.79636,lng:-122.213738},grades:"Pre-K to 5",location:"School, Oakland",name:"Fruitvale Elementary School",numStudents:373,quote:{author:"Sophia Kinsley",authorPosition:"Pre-K Teacher",quote:"I provide many books in my classroom library, but I wanted my students to have books of their own. When I told them that we had been gifted funds, they were thrilled to be able to shop for books and were so grateful that they were absolutely free. They asked every day when the books would arrive and were so excited when the books finally came."}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:65,geolocation:{lat:37.267202,lng:-121.812201},grades:"7 to 8",location:"South San Jose, San Jose",name:"Caroline Davis Intermediate School",numStudents:664,quote:{author:"Ashlee Drady",authorPosition:"Science",quote:"This tremendous gift will be cherished by my students as it will help support and celebrate our diverse student needs, language levels and cultural backgrounds."}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:90,geolocation:{lat:38.033469,lng:-121.974036},grades:"K to 5",location:"Bay Point",name:"Rio Vista Elementary School",numStudents:547,quote:{author:"Alissa Juarez",authorPosition:"Librarian",quote:"BookBooster has given us the opportunity to fill out our library with books that are more culturally diverse and really speak to our student population. It has also allowed us to purchase more chapter and early reader books in Spanish so that we have books that meet the needs of all our readers, whether they have grown up here or are just arriving in the States. These books will help us to foster a love of reading in our students, who do not normally have access to books outside of our school library. Thank You!"}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:51,geolocation:{lat:37.300796,lng:-121.810119},grades:"Pre-K to 6",location:"Dove Hill, San Jose",name:"Dove Hill Elementary School",numStudents:445,quote:{author:"Michele Marsh",quote:"BookBooster gives our school the amazing opportunity to enhance the library and have books to give as awards for all of our readers.  We couldn't do it without them!"}},{donationMonth:i.SCHOOL_YEAR_17,freeLunchPercent:96,geolocation:{lat:37.759846,lng:-122.175133},grades:"Pre-K to 5",location:"Eastmont, Oakland",name:"East Oakland PRIDE",numStudents:351,quote:{author:"Amapola Obrera",authorPosition:"Community School Manager",quote:"East Oakland PRIDE Elementary is strongly committed to the goal of promoting and improving our students' literacy skills and instilling a love of reading. BookBooster provides us with interesting, high-quality books to help us reach our goal. BookBooster provides our students with access to more books that they wouldn't have the opportunity to read otherwise. BookBooster is an invaluable resource!"}},{donationMonth:i.SCHOOL_YEAR_17,grades:"6 to 8",location:"Oakland",name:"Urban Promise Academy",numStudents:350,quote:{author:"Shannon Darcey",authorPosition:"7th grade Humanities Teacher",quote:"This is an amazing gift to my students and my classroom. BookBooster will allow my students, who have all recently arrived to the country, to engage with a wide variety of books at their reading level. They are excited to read and now they have the books in their hands to be able to do it!!!"}},{donationMonth:i.SCHOOL_YEAR_17,grades:"6 to 8",location:"Antioch",name:"Jack London Elementary School",numStudents:509,quote:{author:"Yvonne Lackey",authorPosition:"Library Media Tech I",quote:"Our school is very grateful to BookBooster's  for their generous donation. We look forward to getting some much needed books that will help our students learn about diversity, tolerance and kindness. These types of books will greatly benefit our students here at Jack London Elementary School. Your thoughtfulness will truly make a difference in the lives of our students."}},{donationMonth:i.SCHOOL_YEAR_17,grades:"6 to 8",location:"San Ramon",name:"Iron Horse Middle School",numStudents:1200,quote:{author:"Alessandra Castro",authorPosition:"8th Grade English and History Teacher",quote:"I cannot thank BookBooster enough. Thanks to their generous donation, my classroom library has 100 more books that could lead to my ultimate goal - children falling in love with reading. As an 8th grade English and history teacher, it's my job to prepare them for not only the reality of high school, but also the reality of the world beyond. I hold my students to extremely high expectations, including a year-long reading project. Thanks to these new books, my students have even more choice when completing this reading project. Thank you so much!"}},{donationMonth:i.SCHOOL_YEAR_17,grades:"Pre-K to 5",location:"San Ramon",name:"Edwin Markham Elementary School",numStudents:340,quote:{author:"Nikita Gibbs-Nolen",authorPosition:"3rd Grade Teacher",quote:"Thank you, Bookbooster. It was appreciated."}},{donationMonth:i.SCHOOL_YEAR_17,grades:"7 to 8",location:"San Pablo",name:"Helms Middle School",numStudents:1500,quote:{author:"John Henry Evans",quote:"Our school fights hard for our students' literacy, but engaging students in the work of reading can be a challenge. This is especially true in a school with a high population of English Learners like ours. It is a true honor to have BookBooster working alongside us in our efforts to ignite our students' love of reading!"}},{donationMonth:i.SCHOOL_YEAR_17,grades:"Pre-K to 5",location:"San Jose",name:"Blackford Elementary School",numStudents:554,quote:{author:"Leslie Anido",authorPosition:"Teacher",quote:"Quotes from students receiving books: Thank you for bringing us cool books! I heard my classmates gasping and getting excited by their favorite books! It will be a blast reading them all! Thank you very, very much for the book you let us fourth, third, and fifth graders keep. We now have more choices in our class mini library!"}},{donationMonth:i.SCHOOL_YEAR_17,grades:"Pre-K to 5",location:"San Jose",name:"Mt. Pleasant STEAM Academy",numStudents:400,quote:{author:"Breana Ramirez",quote:"When a student struggles with reading, it makes school unenjoyable and frustrating for them. New books for the library help them get excited about reading. Thank you BookBooster!"}}]},674:function(t,e,o){"use strict";var i=o(291),n=o(673),s=function(){function t(t){Object.assign(this,t)}return t.prototype.getSlug=function(){return this.name.toLowerCase().replace(//g,"e").replace(//g,"a").replace(/[^a-z0-9 \-]/g,"").replace(/ /g,"-").replace(/--/g,"-")},t}();e.School=s,e.SCHOOLS=n.SCHOOL_DATA.map(function(t){return new s(t)}),e.BOOKS_TO_SCHOOLS=e.SCHOOLS.reduce(function(t,e){var o=e.donationMonth;return t+(o&&o.booksDonated||0)},0),e.getSchoolsForMonth=function(t){return e.SCHOOLS.filter(function(e){return e.donationMonth&&e.donationMonth.isEqual(t)})},e.getSchoolsByYear=function(){return[i.SCHOOL_YEAR_17].map(function(t){return{month:t,schools:e.SCHOOLS.filter(function(e){return e.donationMonth===t})}})},e.getSchoolsByMonth=function(){var t=[];return e.SCHOOLS.forEach(function(e){if(e.donationMonth&&e.donationMonth.month){var o=!1;t.forEach(function(t){o||t.month.isEqual(e.donationMonth)&&(o=!0,t.schools.push(e))}),o||t.push({month:e.donationMonth,schools:[e]})}}),t.sort(function(t,e){var o=t.month;return e.month.compare(o)}),t}},683:function(t,e,o){o(21),o(22),t.exports=o(298)}},[683]);