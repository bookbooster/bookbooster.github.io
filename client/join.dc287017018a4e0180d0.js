webpackJsonp([2],{105:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),i=s.createClass({displayName:"InputElement",defaultCharsRules:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},defaultMaskChar:"_",lastCaretPos:null,isAndroidBrowser:function(){var e=new RegExp("windows","i"),t=new RegExp("firefox","i"),n=new RegExp("android","i"),a=navigator.userAgent;return!e.test(a)&&!t.test(a)&&n.test(a)},isWindowsPhoneBrowser:function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)},isAndroidFirefox:function(){var e=new RegExp("windows","i"),t=new RegExp("firefox","i"),n=new RegExp("android","i"),a=navigator.userAgent;return!e.test(a)&&t.test(a)&&n.test(a)},isDOMElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:1===e.nodeType&&"string"==typeof e.nodeName},getInputDOMNode:function(){var e=this.refs.input;return e?this.isDOMElement(e)?e:e.getDOMNode():null},enableValueAccessors:function(){var e=this;if(this.canUseAccessors){var t=this.getInputDOMNode();this.valueDescriptor=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"),Object.defineProperty(t,"value",{configurable:!0,enumerable:!0,get:function(){return e.value},set:function(n){e.value=n,e.valueDescriptor.set.call(t,n)}})}},disableValueAccessors:function(){var e=this.valueDescriptor;if(e){this.valueDescriptor=null;var t=this.getInputDOMNode();Object.defineProperty(t,"value",e)}},getInputValue:function(){var e=this.getInputDOMNode(),t=this.valueDescriptor;return t?t.get.call(e):e.value},setInputValue:function(e){var t=this.getInputDOMNode();this.value=e,t.value=e},getPrefix:function(){for(var e="",t=this.mask,n=0;n<t.length&&this.isPermanentChar(n);++n)e+=t[n];return e},getFilledLength:function(){var e,t=arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0];if(!this.maskChar)return t.length;for(e=t.length-1;e>=0;--e){var n=t[e];if(!this.isPermanentChar(e)&&this.isAllowedChar(n,e))break}return++e||this.getPrefix().length},getLeftEditablePos:function(e){for(var t=e;t>=0;--t)if(!this.isPermanentChar(t))return t;return null},getRightEditablePos:function(e){for(var t=this.mask,n=e;n<t.length;++n)if(!this.isPermanentChar(n))return n;return null},isEmpty:function(){var e=this;return!(arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0]).split("").some(function(t,n){return!e.isPermanentChar(n)&&e.isAllowedChar(t,n)})},isFilled:function(){var e=arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0];return this.getFilledLength(e)===this.mask.length},createFilledArray:function(e,t){for(var n=[],a=0;a<e;a++)n[a]=t;return n},formatValue:function(e){var t=this,n=this.maskChar,a=this.mask;if(!n){var r=this.getPrefix(),s=r.length;for(e=this.insertRawSubstr("",e,0);e.length>s&&this.isPermanentChar(e.length-1);)e=e.slice(0,e.length-1);return e.length<s&&(e=r),e}if(e){var i=this.formatValue("");return this.insertRawSubstr(i,e,0)}return e.split("").concat(this.createFilledArray(a.length-e.length,null)).map(function(e,r){return t.isAllowedChar(e,r)?e:t.isPermanentChar(r)?a[r]:n}).join("")},clearRange:function(e,t,n){var a=this,r=t+n,s=this.maskChar,i=this.mask;if(!s){var o=this.getPrefix().length;return e=e.split("").filter(function(e,n){return n<o||n<t||n>=r}).join(""),this.formatValue(e)}return e.split("").map(function(e,n){return n<t||n>=r?e:a.isPermanentChar(n)?i[n]:s}).join("")},replaceSubstr:function(e,t,n){return e.slice(0,n)+t+e.slice(n+t.length)},insertRawSubstr:function(e,t,n){var a=this.mask,r=this.maskChar,s=this.isFilled(e),i=this.getPrefix().length;t=t.split(""),!r&&n>e.length&&(e+=a.slice(e.length,n));for(var o=n;o<a.length&&t.length;){var l=this.isPermanentChar(o);if(l&&a[o]!==t[0])!r&&o>=e.length?e+=a[o]:r&&l&&t[0]===r&&t.shift(),++o;else{var u=t.shift();this.isAllowedChar(u,o,!0)&&(o<e.length?e=r||s||o<i?this.replaceSubstr(e,u,o):this.formatValue(e.substr(0,o)+u+e.substr(o)):r||(e+=u),++o)}}return e},getRawSubstrLength:function(e,t,n){var a=this.mask;this.maskChar;t=t.split("");for(var r=n;r<a.length&&t.length;)if(this.isPermanentChar(r)&&a[r]!==t[0])++r;else{var s=t.shift();this.isAllowedChar(s,r,!0)&&++r}return r-n},isAllowedChar:function(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],a=this.mask,r=this.maskChar;if(this.isPermanentChar(t))return a[t]===e;var s=a[t],i=this.charsRules[s];return new RegExp(i).test(e||"")||n&&e===r},isPermanentChar:function(e){return-1!==this.permanents.indexOf(e)},setCaretToEnd:function(){var e=this.getFilledLength(),t=this.getRightEditablePos(e);null!==t&&this.setCaretPos(t)},setSelection:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.getInputDOMNode();if(n){var a=e+t;if("selectionStart"in n&&"selectionEnd"in n)n.selectionStart=e,n.selectionEnd=a;else{var r=n.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",a-e),r.select()}}},getSelection:function(){var e=this.getInputDOMNode(),t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var a=document.selection.createRange();a.parentElement()===e&&(t=-a.moveStart("character",-e.value.length),n=-a.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}},getCaretPos:function(){return this.getSelection().start},setCaretPos:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,0)},n=this.setSelection.bind(this,e,0);n(),t(n),this.lastCaretPos=e},isFocused:function(){return document.activeElement===this.getInputDOMNode()},parseMask:function(e){var t=this;if(!e||"string"!=typeof e)return{mask:null,lastEditablePos:null,permanents:[]};var n="",a=[],r=!1,s=null;return e.split("").forEach(function(e){r||"\\"!==e?(r||!t.charsRules[e]?a.push(n.length):s=n.length+1,n+=e,r=!1):r=!0}),{mask:n,lastEditablePos:s,permanents:a}},getStringValue:function(e){return e||0===e?e+"":""},getInitialState:function(){this.hasValue=null!=this.props.value,this.charsRules="formatChars"in this.props?this.props.formatChars:this.defaultCharsRules;var e=this.parseMask(this.props.mask),t=null!=this.props.defaultValue?this.props.defaultValue:"",n=null!=this.props.value?this.props.value:t;return n=this.getStringValue(n),this.mask=e.mask,this.permanents=e.permanents,this.lastEditablePos=e.lastEditablePos,this.maskChar="maskChar"in this.props?this.props.maskChar:this.defaultMaskChar,this.mask&&(this.props.alwaysShowMask||n)&&(n=this.formatValue(n)),{value:n}},componentWillMount:function(){var e=this.mask,t=this.state.value;e&&t&&this.setState({value:t})},componentWillReceiveProps:function(e){this.hasValue=null!=this.props.value,this.charsRules="formatChars"in e?e.formatChars:this.defaultCharsRules;var t=this.mask,n=this.parseMask(e.mask),a=n.mask&&n.mask!==this.mask;if(this.mask=n.mask,this.permanents=n.permanents,this.lastEditablePos=n.lastEditablePos,this.maskChar="maskChar"in e?e.maskChar:this.defaultMaskChar,this.mask){var r=null!=e.value?this.getStringValue(e.value):this.state.value;t||null!=e.value||(r=this.getInputDOMNode().value);var s=e.alwaysShowMask||this.isFocused();if((a||n.mask&&(r||s&&!this.hasValue))&&(r=this.formatValue(r),a)){var i=this.lastCaretPos,o=this.getFilledLength(r);o<i&&this.setCaretPos(this.getRightEditablePos(o))}n.mask&&this.isEmpty(r)&&!s&&!this.hasValue&&(r=""),this.value=r,this.state.value!==r&&this.setState({value:r})}},componentDidUpdate:function(e,t){(this.mask||e.mask)&&null==this.props.value&&this.updateUncontrolledInput(),this.valueDescriptor&&this.getInputValue()!==this.state.value&&this.setInputValue(this.state.value)},updateUncontrolledInput:function(){this.getInputValue()!==this.state.value&&this.setInputValue(this.state.value)},onKeyDown:function(e){var t="function"==typeof this.props.onKeyDown;if(e.ctrlKey||e.metaKey)return void(t&&this.props.onKeyDown(e));var n=this.getCaretPos(),a=this.state.value,r=e.key,s=!1;switch(r){case"Backspace":case"Delete":var i=this.getPrefix().length,o="Delete"===r,l=this.getSelection();if(l.length)a=this.clearRange(a,l.start,l.length);else if(n<i||!o&&n===i)n=i;else{var u=o?this.getRightEditablePos(n):this.getLeftEditablePos(n-1);null!==u&&(a=this.clearRange(a,u,1),n=u)}s=!0}t&&this.props.onKeyDown(e),a!==this.state.value&&(this.setInputValue(a),this.setState({value:this.hasValue?this.state.value:a}),s=!0,"function"==typeof this.props.onChange&&this.props.onChange(e)),s&&(e.preventDefault(),this.setCaretPos(n))},onKeyPress:function(e){var t=e.key,n="function"==typeof this.props.onKeyPress;if("Enter"===t||e.ctrlKey||e.metaKey)return void(n&&this.props.onKeyPress(e));if(!this.isWindowsPhoneBrowser){var a=this.getCaretPos(),r=this.getSelection(),s=this.state.value,i=this.mask,o=(this.maskChar,this.lastEditablePos),l=(i.length,this.getPrefix().length);if(this.isPermanentChar(a)&&i[a]===t)s=this.insertRawSubstr(s,t,a),++a;else{var u=this.getRightEditablePos(a);null!==u&&this.isAllowedChar(t,u)&&(s=this.clearRange(s,r.start,r.length),s=this.insertRawSubstr(s,t,u),a=u+1)}s!==this.state.value&&(this.setInputValue(s),this.setState({value:this.hasValue?this.state.value:s}),"function"==typeof this.props.onChange&&this.props.onChange(e)),e.preventDefault(),a<o&&a>l&&(a=this.getRightEditablePos(a)),this.setCaretPos(a)}},onChange:function(e){var t=this,n=this.pasteSelection,a=this.mask,r=this.maskChar,s=this.lastEditablePos,i=(this.preventEmptyChange,e.target,this.getInputValue());if(!i&&this.preventEmptyChange)return this.disableValueAccessors(),this.preventEmptyChange=!1,void this.setInputValue(this.state.value);var o=this.state.value;if(n)return this.pasteSelection=null,void this.pasteText(o,i,n,e);var l,u=this.getSelection(),c=u.end,h=a.length,m=i.length,p=o.length,d=this.getPrefix().length;if(m>p){var f=m-p,v=u.end-f,g=i.substr(v,f);c=v<s&&(1!==f||g!==a[v])?this.getRightEditablePos(v):v,i=i.substr(0,v)+i.substr(v+f),l=this.clearRange(i,v,h-v),l=this.insertRawSubstr(l,g,c),i=this.insertRawSubstr(o,g,c),1!==f||c>=d&&c<s?c=this.getFilledLength(l):c<s&&c++}else if(m<p){var y=h-m;l=this.clearRange(o,u.end,y);var b=i.substr(0,u.end),E=b===o.substr(0,u.end);r&&(i=this.insertRawSubstr(l,b,0)),l=this.clearRange(l,u.end,h-u.end),l=this.insertRawSubstr(l,b,0),E?c<d&&(c=d):c=this.getFilledLength(l)}i=this.formatValue(i),this.canUseAccessors&&(this.isAndroidBrowser||this.isWindowsPhoneBrowser)||this.setInputValue(i),this.canUseAccessors&&(this.isAndroidFirefox&&i&&!this.getInputValue()||this.isAndroidBrowser||this.isWindowsPhoneBrowser)&&(this.value=i,this.enableValueAccessors(),this.isAndroidFirefox&&(this.preventEmptyChange=!0),setTimeout(function(){t.preventEmptyChange=!1,t.disableValueAccessors()},0)),this.setState({value:this.hasValue?this.state.value:i}),"function"==typeof this.props.onChange&&this.props.onChange(e),this.setCaretPos(c)},onFocus:function(e){if(this.state.value)this.getFilledLength()<this.mask.length&&this.setCaretToEnd();else{var t=this.getPrefix(),n=this.formatValue(t),a=this.formatValue(n),r=a!==e.target.value;r&&(e.target.value=a),this.setState({value:this.hasValue?this.state.value:a},this.setCaretToEnd),r&&"function"==typeof this.props.onChange&&this.props.onChange(e)}"function"==typeof this.props.onFocus&&this.props.onFocus(e)},onBlur:function(e){if(!this.props.alwaysShowMask&&this.isEmpty(this.state.value)){var t=""!==this.getInputValue();t&&this.setInputValue(""),this.setState({value:this.hasValue?this.state.value:""}),t&&"function"==typeof this.props.onChange&&this.props.onChange(e)}"function"==typeof this.props.onBlur&&this.props.onBlur(e)},onPaste:function(e){if(this.isAndroidBrowser)return this.pasteSelection=this.getSelection(),void this.setInputValue("");var t;if(window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),t){var n=this.state.value,a=this.getSelection();this.pasteText(n,t,a,e)}e.preventDefault()},pasteText:function(e,t,n,a){var r=n.start;n.length&&(e=this.clearRange(e,r,n.length));var s=this.getRawSubstrLength(e,t,r);e=this.insertRawSubstr(e,t,r),r+=s,r=this.getRightEditablePos(r)||r,e!==this.getInputValue()&&(a&&this.setInputValue(e),this.setState({value:this.hasValue?this.state.value:e}),a&&"function"==typeof this.props.onChange&&this.props.onChange(a)),this.setCaretPos(r)},componentDidMount:function(){if(this.isAndroidBrowser=this.isAndroidBrowser(),this.isWindowsPhoneBrowser=this.isWindowsPhoneBrowser(),this.isAndroidFirefox=this.isAndroidFirefox(),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf&&Object.defineProperty){var e=this.getInputDOMNode(),t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value");this.canUseAccessors=!!(t&&t.get&&t.set)}this.mask&&null==this.props.value&&this.updateUncontrolledInput()},render:function(){var e=this,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,a(t,["mask","alwaysShowMask","maskChar","formatChars"]));if(this.mask){["onFocus","onBlur","onChange","onKeyDown","onKeyPress","onPaste"].forEach(function(t){n[t]=e[t]}),null!=n.value&&(n.value=this.state.value)}return s.createElement("input",r({ref:"input"},n))}});e.exports=i},117:function(e,t,n){"use strict";var a=n(96);t.requiredValidator=function(e){return e?null:"Required"},t.emailValidator=function(e){return e?a.validate(e)?null:"Email is invalid":null}},192:function(e,t,n){!function(t,a){e.exports=a(n(1))}(0,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="build/",t(0)}([function(e,t,n){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}function o(e){var t=typeof e;if("object"===t||"function"===t||"boolean"===t)return null;var n=(0,f.default)(e);return 0===n.value()&&0!==e&&"0"!==e?null:isNaN(n.value())?null:n}function l(e){var t=o(e);return t?t.value():NaN}function u(e){var t=arguments.length<=1||void 0===arguments[1]?g:arguments[1],n=o(e);return n?n.format(t):null}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e,t,n){for(var a=!0;a;){var r=e,s=t,i=n;a=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,s);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(i)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=s,n=i,a=!0,o=u=void 0}};t.isNumber=i,t.toNumeral=o,t.parseNumber=l,t.formatNumber=u;var m=n(1),p=a(m),d=n(2),f=a(d),v=n(3),g="0,0[.][00]",y=function(t){function n(e){r(this,n),h(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e);var t=l(this.props.value);this.state={focused:!1,value:i(t)?t:""},this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}return s(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){if(!this.state.focused&&"value"in e){var t=l(e.value);this.setState({value:i(t)?t:""})}}},{key:"componentDidMount",value:function(){this.setState({focused:e.document.activeElement===this.refs.input})}},{key:"onChange",value:function(e){var t=this;e.persist(),this.setState({value:e.target.value},function(){return t.props.onChange(e)})}},{key:"onBlur",value:function(e){var t=this;e.persist();var n=o(e.target.value);n&&"min"in this.props&&n.value()<this.props.min&&(n=o(this.props.min)),n&&"max"in this.props&&n.value()>this.props.max&&(n=o(this.props.max)),e.target.value=n?n.value():"",this.setState({focused:!1,value:n?n.format(this.props.format):""},function(){return t.props.onBlur(e)})}},{key:"onFocus",value:function(e){var t=this;e.persist();var n=o(e.target.value);this.setState({focused:!0,value:n?n.value():""},function(){return t.props.onFocus(e)})}},{key:"valueAsFormatted",value:function(){var e=this.state.value,t=o(e);return t?t.format(this.props.format):""}},{key:"render",value:function(){var e=this.state.focused?this.state.value:this.valueAsFormatted();return(0,v.createElement)("input",(0,p.default)({},this.props,{ref:"input",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,value:e}))}}]),n}(v.Component);t.default=y,y.propTypes={value:v.PropTypes.number,type:v.PropTypes.string,format:v.PropTypes.string,min:v.PropTypes.number,max:v.PropTypes.number,onFocus:v.PropTypes.func,onBlur:v.PropTypes.func,onChange:v.PropTypes.func},y.defaultProps={value:null,type:"tel",format:g,onFocus:function(){},onBlur:function(){},onChange:function(){}}}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var s,i,o=n(e),l=1;l<arguments.length;l++){s=Object(arguments[l]);for(var u in s)a.call(s,u)&&(o[u]=s[u]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(s);for(var c=0;c<i.length;c++)r.call(s,i[c])&&(o[i[c]]=s[i[c]])}}return o}},function(e,t,n){var a,r;(function(){function n(e){this._value=e}function s(e,t,n,a){var r,s,i=Math.pow(10,t);return s=(n(e*i)/i).toFixed(t),a&&(r=new RegExp("0{1,"+a+"}$"),s=s.replace(r,"")),s}function i(e,t,n){return t.indexOf("$")>-1?l(e,t,n):t.indexOf("%")>-1?u(e,t,n):t.indexOf(":")>-1?c(e):m(e._value,t,n)}function o(e,t){var n,a,r,s,i,o=t,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],u=!1;if(t.indexOf(":")>-1)e._value=h(t);else if(t===b)e._value=0;else{for("."!==g[y].delimiters.decimal&&(t=t.replace(/\./g,"").replace(g[y].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+g[y].abbreviations.thousand+"(?:\\)|(\\"+g[y].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+g[y].abbreviations.million+"(?:\\)|(\\"+g[y].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+g[y].abbreviations.billion+"(?:\\)|(\\"+g[y].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+g[y].abbreviations.trillion+"(?:\\)|(\\"+g[y].currency.symbol+")?(?:\\))?)?$"),i=0;i<=l.length&&!(u=t.indexOf(l[i])>-1&&Math.pow(1024,i+1));i++);e._value=(u||1)*(o.match(n)?Math.pow(10,3):1)*(o.match(a)?Math.pow(10,6):1)*(o.match(r)?Math.pow(10,9):1)*(o.match(s)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=u?Math.ceil(e._value):e._value}return e._value}function l(e,t,n){var a,r,s=t.indexOf("$"),i=t.indexOf("("),o=t.indexOf("-"),l="";return t.indexOf(" $")>-1?(l=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(l=" ",t=t.replace("$ ","")):t=t.replace("$",""),r=m(e._value,t,n),s<=1?r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),a=1,(s<i||s<o)&&(a=0),r.splice(a,0,g[y].currency.symbol+l),r=r.join("")):r=g[y].currency.symbol+l+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,l+g[y].currency.symbol),r=r.join("")):r=r+l+g[y].currency.symbol,r}function u(e,t,n){var a,r="",s=100*e._value;return t.indexOf(" %")>-1?(r=" ",t=t.replace(" %","")):t=t.replace("%",""),a=m(s,t,n),a.indexOf(")")>-1?(a=a.split(""),a.splice(-1,0,r+"%"),a=a.join("")):a=a+r+"%",a}function c(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),a=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)}function h(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function m(e,t,n){var a,r,i,o,l,u,c=!1,h=!1,m=!1,p="",d=!1,f=!1,v=!1,E=!1,P=!1,C="",w="",O=Math.abs(e),k=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],N="",M=!1;if(0===e&&null!==b)return b;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(h=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(d=t.indexOf("aK")>=0,f=t.indexOf("aM")>=0,v=t.indexOf("aB")>=0,E=t.indexOf("aT")>=0,P=d||f||v||E,t.indexOf(" a")>-1?(p=" ",t=t.replace(" a","")):t=t.replace("a",""),O>=Math.pow(10,12)&&!P||E?(p+=g[y].abbreviations.trillion,e/=Math.pow(10,12)):O<Math.pow(10,12)&&O>=Math.pow(10,9)&&!P||v?(p+=g[y].abbreviations.billion,e/=Math.pow(10,9)):O<Math.pow(10,9)&&O>=Math.pow(10,6)&&!P||f?(p+=g[y].abbreviations.million,e/=Math.pow(10,6)):(O<Math.pow(10,6)&&O>=Math.pow(10,3)&&!P||d)&&(p+=g[y].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(C=" ",t=t.replace(" b","")):t=t.replace("b",""),i=0;i<=k.length;i++)if(a=Math.pow(1024,i),r=Math.pow(1024,i+1),e>=a&&e<r){C+=k[i],a>0&&(e/=a);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(w=" ",t=t.replace(" o","")):t=t.replace("o",""),w+=g[y].ordinal(e)),t.indexOf("[.]")>-1&&(m=!0,t=t.replace("[.]",".")),o=e.toString().split(".")[0],l=t.split(".")[1],u=t.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),N=s(e,l[0].length+l[1].length,n,l[1].length)):N=s(e,l.length,n),o=N.split(".")[0],N=N.split(".")[1].length?g[y].delimiters.decimal+N.split(".")[1]:"",m&&0===Number(N.slice(1))&&(N="")):o=s(e,null,n),o.indexOf("-")>-1&&(o=o.slice(1),M=!0),u>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g[y].delimiters.thousands)),0===t.indexOf(".")&&(o=""),(c&&M?"(":"")+(!c&&M?"-":"")+(!M&&h?"+":"")+o+N+(w||"")+(p||"")+(C||"")+(c&&M?")":"")}function p(e,t){g[e]=t}function d(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function f(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var n=d(e),a=d(t);return n>a?n:a},-1/0)}var v,g={},y="en",b=null,E="0,0",P=void 0!==e&&e.exports;v=function(e){return v.isNumeral(e)?e=e.value():0===e||void 0===e?e=0:Number(e)||(e=v.fn.unformat(e)),new n(Number(e))},v.version="1.5.3",v.isNumeral=function(e){return e instanceof n},v.language=function(e,t){if(!e)return y;if(e&&!t){if(!g[e])throw new Error("Unknown language : "+e);y=e}return!t&&g[e]||p(e,t),v},v.languageData=function(e){if(!e)return g[y];if(!g[e])throw new Error("Unknown language : "+e);return g[e]},v.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),v.zeroFormat=function(e){b="string"==typeof e?e:null},v.defaultFormat=function(e){E="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,a,r=this.length>>>0,s=!1;for(1<arguments.length&&(a=t,s=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(s?a=e(a,this[n],n,this):(a=this[n],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return a}),v.fn=n.prototype={clone:function(){return v(this)},format:function(e,t){return i(this,e||E,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:o(this,e||E)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,a,r){return e+n*t}var n=f.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t,a,r){return e-n*t}var n=f.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t,n,a){var r=f(e,t);return e*r*(t*r)/(r*r)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,n,a){var r=f(e,t);return e*r/(t*r)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(v(this._value).subtract(e).value())}},P&&(e.exports=v),"undefined"==typeof ender&&(this.numeral=v),a=[],void 0!==(r=function(){return v}.apply(t,a))&&(e.exports=r)}).call(void 0)},function(t,n){t.exports=e}])})},211:function(e,t,n){"use strict";function a(){alert("Your payment was successful but there was an error on our side. Please email "+i.SUPPORT_EMAIL+" and we will respond as soon as possible. Sorry for the inconvenience.")}function r(){alert("There was an error processing your card. Please double-check your payment information or email "+i.SUPPORT_EMAIL+" for further support.")}function s(){alert("Sorry, there was an error on our side. Please try again later or email "+i.SUPPORT_EMAIL+" and we will respond as soon as possible.")}var i=n(15);t.alertPostPaymentError=a,t.alertStripeError=r,t.alertError=s},212:function(e,t,n){"use strict";var a=n(78);t.cardNumberValidator=function(e){return a.default.card.validateCardNumber(e)?null:"Card number is invalid"},t.cardExpValidator=function(e){return a.default.card.validateExpiry(e)?null:"Expiration is invalid"},t.cardCvcValidator=function(e){return a.default.card.validateCVC(e)?null:"CVV is invalid"}},213:function(e,t,n){"use strict";var a=n(1),r=function(e){var t=e.cardType;return a.createElement("div",null,a.createElement("strong",null,t||"Visa, Mastercard, and Discover"," cardholders:"),a.createElement("br",null),"Turn your card over and look for a 3-digit code at the end of the signature box.")};t.AmexMessage=function(){return a.createElement("div",null,a.createElement("strong",null,"American Express cardholders:"),a.createElement("br",null),"Look for the 4-digit code printed on the front of your card just above and to the right of your main credit card number.")},t.CVVInfo=function(e){var n=e.cardType;return"American Express"===n?a.createElement(t.AmexMessage,null):"Discover"===n||"Visa"===n||"MasterCard"===n?a.createElement(r,{cardType:n}):a.createElement("div",null,a.createElement(r,null),a.createElement("br",null),a.createElement(t.AmexMessage,null))}},214:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(1),s=n(59),i=n(91),o=n(78),l=n(213),u=n(116),c={"American Express":"amex",Discover:"discover",Mastercard:"mastercard",Visa:"visa"},h=function(e){function t(){var t=e.apply(this,arguments)||this;return t.handleInputChange=function(e,n){t.props.onCardChange((a={},a[e]=n.target.value,a));var a},t}return a(t,e),t.prototype.render=function(){var e=o.default.card.cardType(this.props.card.number);return r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"small-11 medium-9 medium-offset-1 columns JoinForm-card-icons"},["mastercard","visa","discover","amex"].map(function(t){return r.createElement("div",{className:s((n={},n["JoinForm-card-icon "+t]=!0,n.active=c[e]===t,n)),key:t});var n})),r.createElement("div",{className:"small-8 medium-4 medium-offset-1 columns"},r.createElement(i.FormInput,{labelComponent:"Credit or debit card number",type:"text",submitted:this.props.submitted,name:"cardNumber",value:this.props.card.number,onChange:this.handleInputChange.bind(this,"number"),mask:"American Express"===e?"9999 999999 99999":"9999 9999 9999 9999",maskChar:"Unknown"===e?null:"_",error:this.props.errors.number})),r.createElement("div",{className:"small-3 medium-2 columns"},r.createElement(i.FormInput,{labelComponent:r.createElement("span",null,"CVV ",r.createElement(u.SupportTooltip,{component:r.createElement(l.CVVInfo,{cardType:e})})),type:"text",submitted:this.props.submitted,name:"cardCvc",value:this.props.card.cvc,onChange:this.handleInputChange.bind(this,"cvc"),error:this.props.errors.cvc}))),r.createElement("div",{className:"row JoinForm-section"},r.createElement("div",{className:"medium-3 medium-offset-1 columns"},r.createElement(i.FormInput,{labelComponent:"Expiration (MM / YY)",type:"text",name:"cardExp",submitted:this.props.submitted,value:this.props.card.exp,onChange:this.handleInputChange.bind(this,"exp"),mask:"99 / 99",error:this.props.errors.exp})),r.createElement("div",{className:"medium-3 columns"},r.createElement(i.FormInput,{labelComponent:"Zip code",type:"text",name:"zip",submitted:this.props.submitted,value:this.props.card.zip,onChange:this.handleInputChange.bind(this,"zip"),error:this.props.errors.zip}))))},t}(r.Component);t.CardForm=h},295:function(e,t,n){"use strict";var a=n(31),r=n(1),s=n(660);a.render(r.createElement(s.JoinForm,null),document.getElementById("content"))},660:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(1),s=n(59),i=n(130),o=n(91),l=n(214),u=n(117),c=n(212),h=n(118),m=n(215),p=n(58),d=n(57),f=n(15),v=n(215),g=n(78),y=n(211),b=n(116),E=n(662),P=n(661),C=n(115),w=n(192).default,O={customBookAmount:[u.requiredValidator],email:[u.requiredValidator,u.emailValidator],firstName:[u.requiredValidator],lastName:[u.requiredValidator]},k={cvc:[u.requiredValidator,c.cardCvcValidator],exp:[u.requiredValidator,c.cardExpValidator],number:[u.requiredValidator,c.cardNumberValidator],zip:[u.requiredValidator]},N=i.parse(location.search),M=function(){var e=N.plan;return"Basic"===e?h.UserPlanType.Basic:"Premium"===e?h.UserPlanType.Premium:"Custom"===e?h.UserPlanType.Custom:null}(),x=function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={card:{cvc:"",exp:"",number:"",zip:""},customBookAmount:2,email:"",firstName:"",lastName:"",paymentType:h.UserPaymentType.Monthly,planType:M||h.UserPlanType.Basic,submitted:!1,submitting:!1},t.handleSubmit=function(e){e.preventDefault();var n=t.getFormErrors(),a=t.getCardErrors();if(Object.keys(n).length>0||Object.keys(a).length>0)return alert("Please fix errors to continue"),void t.setState({submitted:!0});t.setState({submitting:!0}),g.default.card.createToken({address_zip:t.state.card.zip,cvc:t.state.card.cvc,exp:t.state.card.exp,name:t.state.firstName+" "+t.state.lastName,number:t.state.card.number},function(e,n){if(n.error)t.setState({submitting:!1}),y.alertStripeError();else{var a={email:t.state.email,firstName:t.state.firstName,lastName:t.state.lastName,paymentType:t.state.paymentType,planType:t.state.planType,stripeToken:n.id};localStorage.getItem("ref")&&(a.referrerSlug=localStorage.getItem("ref")),a.planType===h.UserPlanType.Custom&&(a.customBookAmount=t.state.customBookAmount),fetch("/create-user",{body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(e){if(e.errorCode){switch(e.errorCode){case h.CreateUserErrorCode.StripeError:y.alertStripeError();break;case h.CreateUserErrorCode.PostPaymentError:y.alertPostPaymentError();break;default:y.alertError()}t.setState({submitting:!1})}else location.href="/users/"+e.userId+"/confirmation"}).catch(function(){t.setState({submitting:!1}),y.alertError()})}})},t.handleInputChange=function(e,n){t.setState((a={},a[e]=n.target.value,a));var a},t.handleNumberInputChange=function(e,n){t.setState((a={},a[e]=parseInt(n.target.value,10),a));var a},t.handleRadioChange=function(e,n){t.setState((a={},a[e]=parseInt(n.target.value,10),a));var a},t.handleCardChange=function(e){t.setState({card:Object.assign({},t.state.card,e)})},t}return a(t,e),t.prototype.render=function(){var e=this.getFormErrors(),t=this.getCardErrors();return r.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.createElement("fieldset",{className:"JoinForm-section"},r.createElement("div",{className:"row"},r.createElement("legend",{className:"small-11 medium-9 medium-offset-1 columns JoinForm-plan-legend"},"Select your impact:"),r.createElement("label",{className:s({"small-11 medium-9 medium-offset-1 large-3 columns":!0,"JoinForm-plan-container":!0})},r.createElement("div",{className:s({"JoinForm-plan":!0,selected:this.state.planType===h.UserPlanType.Basic})},r.createElement("div",{className:"JoinForm-plan-radio PaymentPlan-name-smaller"},r.createElement("input",{type:"radio",name:"planType",value:h.UserPlanType.Basic.toString(),checked:this.state.planType===h.UserPlanType.Basic,onChange:this.handleRadioChange.bind(this,"planType")}),m.PaymentPlans.Basic.name),r.createElement("div",{className:"PaymentPlan-stat-small"},"Provide ",r.createElement("strong",null,m.PaymentPlans.Basic.booksPerMonth," books / month")),r.createElement("div",null,"over the 2016-17 school year ",r.createElement(b.SupportTooltip,{componentClass:"SchoolYearInfo"})),r.createElement("div",null,r.createElement("div",{className:"JoinForm-plan-content"},r.createElement("ul",null,r.createElement("li",null,"Donate ",r.createElement("strong",null,d.formatMoney(m.PaymentPlans.Basic.moneyPerMonth)," / month")," ","or as a one-time donation"),r.createElement("li",null,"Receive our monthly newsletter about the impact of your donation on the schools")))))),r.createElement("label",{className:s({"small-11 medium-9 medium-offset-1 large-3 large-offset-0 columns":!0,"JoinForm-plan-container":!0})},r.createElement("div",{className:s({"JoinForm-plan":!0,selected:this.state.planType===h.UserPlanType.Premium})},r.createElement("div",{className:"JoinForm-plan-radio PaymentPlan-name-smaller"},r.createElement("input",{type:"radio",name:"planType",value:h.UserPlanType.Premium.toString(),checked:this.state.planType===h.UserPlanType.Premium,onChange:this.handleRadioChange.bind(this,"planType")}),m.PaymentPlans.Premium.name),r.createElement("div",{className:"PaymentPlan-stat-small"},"Provide ",r.createElement("strong",null,m.PaymentPlans.Premium.booksPerMonth," books / month")),r.createElement("div",null,"over the 2016-17 school year ",r.createElement(b.SupportTooltip,{componentClass:"SchoolYearInfo"})),r.createElement("div",null,r.createElement("div",{className:"JoinForm-plan-content"},r.createElement("ul",null,r.createElement("li",null,"Donate ",r.createElement("strong",null,d.formatMoney(m.PaymentPlans.Premium.moneyPerMonth)," / month")," ","or as a one-time donation"),r.createElement("li",null,"Receive our monthly newsletter about the impact of your donation on the schools"),r.createElement("li",null,"Receive a free BookBooster t-shirt!")))))),r.createElement("label",{htmlFor:"paymentPlanCustom",className:s({"small-11 medium-9 medium-offset-1 large-3 large-offset-0 columns":!0,"JoinForm-plan-container":!0})},r.createElement("div",{className:s({"JoinForm-plan":!0,selected:this.state.planType===h.UserPlanType.Custom})},r.createElement("div",{className:"JoinForm-plan-radio PaymentPlan-name-smaller"},r.createElement("input",{type:"radio",name:"planType",id:"paymentPlanCustom",value:h.UserPlanType.Custom.toString(),checked:this.state.planType===h.UserPlanType.Custom,onChange:this.handleRadioChange.bind(this,"planType")}),m.PaymentPlans.Custom.name),r.createElement("div",null,r.createElement("div",{className:"JoinForm-plan-content"},r.createElement("div",{className:"PaymentPlan-custom-container"},r.createElement("div",{className:"PaymentPlan-custom-input-container"},r.createElement(w,{type:"number",value:this.state.customBookAmount,onBlur:this.setCustomBookAmount.bind(this),onChange:this.handleNumberInputChange.bind(this,"customBookAmount"),onFocus:this.setCustomPlan.bind(this),className:e.customBookAmount?"is-invalid-input":null,format:"0",min:1,max:1e4,id:"customBookAmount",name:"customBookAmount"}),r.createElement("label",{htmlFor:"customBookAmount"},"books / month")),"over the 2016-17 school year ",r.createElement(b.SupportTooltip,{componentClass:"SchoolYearInfo"})),r.createElement("ul",null,r.createElement("li",null,"Donate"," ",r.createElement("strong",null,d.formatMoney(p.numBooksToMoney(this.state.customBookAmount||1))," / month")," ","or as a one-time donation"),r.createElement("li",null,"Receive our monthly newsletter about the impact of your donation on the schools")))))))),r.createElement("fieldset",{className:"JoinForm-section"},r.createElement("div",{className:"row"},r.createElement("div",{className:"small-11 medium-9 medium-offset-1 large-6 columns"},r.createElement("legend",{className:"JoinForm-plan-legend"},"Select donation schedule:"),r.createElement("label",{className:"JoinForm-payment-type"},r.createElement("input",{type:"radio",name:"paymentType",value:h.UserPaymentType.OneTime.toString(),id:"paymentOneTime",checked:this.state.paymentType===h.UserPaymentType.OneTime,onChange:this.handleRadioChange.bind(this,"paymentType")}),"One-time — ",r.createElement("strong",null,d.formatMoney(this.getOneTimeMoney()))," ",r.createElement(b.SupportTooltip,{component:r.createElement(E.OneTimeMoneyInfo,{numBooks:this.getNumBooks()})})),r.createElement("label",{className:"JoinForm-payment-type"},r.createElement("input",{type:"radio",name:"paymentType",value:h.UserPaymentType.Monthly.toString(),id:"paymentMonthly",checked:this.state.paymentType===h.UserPaymentType.Monthly,onChange:this.handleRadioChange.bind(this,"paymentType")}),"Monthly — ",r.createElement("strong",null,d.formatMoney(this.getMonthlyMoney())," / month")," ","over the 2016-17 school year"," ",r.createElement(b.SupportTooltip,{component:r.createElement(P.MonthlyMoneyInfo,{numBooks:this.getNumBooks()})}))),r.createElement("div",{className:s({"small-11 medium-9 medium-offset-1 large-3 large-offset-0 columns":!0,"JoinForm-fyi":!0})},r.createElement("div",{className:"JoinForm-fyi-header"},"About your donation"),r.createElement("small",null,"Other than payment processing fees, your donations go directly to the schools.  No fees are collected by BookBooster.")))),r.createElement("div",{className:"row"},r.createElement("div",{className:"small-11 medium-9 medium-offset-1 columns JoinForm-plan-legend"},"Enter payment information:"),r.createElement("div",{className:"medium-3 medium-offset-1 columns"},r.createElement(o.FormInput,{labelComponent:"First name",type:"text",submitted:this.state.submitted,name:"firstName",value:this.state.firstName,onChange:this.handleInputChange.bind(this,"firstName"),error:e.firstName})),r.createElement("div",{className:"medium-3 columns"},r.createElement(o.FormInput,{labelComponent:"Last name",type:"text",submitted:this.state.submitted,name:"lastName",value:this.state.lastName,onChange:this.handleInputChange.bind(this,"lastName"),error:e.lastName})),r.createElement("div",{className:"small-11 medium-6 medium-offset-1 columns"},r.createElement(o.FormInput,{labelComponent:"Email",type:"text",submitted:this.state.submitted,name:"email",value:this.state.email,onChange:this.handleInputChange.bind(this,"email"),error:e.email}))),r.createElement(l.CardForm,{card:this.state.card,errors:t,onCardChange:this.handleCardChange,submitted:this.state.submitted}),r.createElement("div",{className:"row JoinForm-section"},r.createElement("div",{className:"small-11 medium-6 medium-offset-1 columns clearfix"},r.createElement("input",{type:"submit",value:this.getDonateMessage(),className:"button large float-left"}),r.createElement("a",{href:"https://stripe.com",target:"_blank",className:"stripe-logo float-left"},r.createElement("img",{src:"/static/powered_by_stripe.png",alt:"Powered by Stripe"})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"small-11 medium-6 medium-offset-1 columns"},r.createElement("small",null,this.state.paymentType===h.UserPaymentType.Monthly?r.createElement("p",null,"You’ll receive a confirmation email at ",this.state.email," that will have a link to cancel your recurring donation at any time.  Your recurring donation will automatically stop at the end of the 2016-17 school year, with the last payment in May 2017."):null,r.createElement("p",null,"Contributions made to BookBooster are tax-deductible through association with ",r.createElement("a",{href:"https://firstbook.org",target:"_blank"},"First Book"),", as it is a public charity exempt from Federal income tax under Section 501(c)(3) of the Internal Revenue Code, with Tax ID Number of 52-1779606. You will receive a tax-receipt email at ",this.state.email," with information to be used when filing taxes."),r.createElement("p",null,"All transactions are secure and encrypted, and we never store your credit card information. Payments are processed through Stripe. Payment information is governed by ",r.createElement("a",{href:"https://stripe.com/us/privacy/",target:"_blank"},"Stripe’s privacy policy."))))),r.createElement(C.Modal,{isOpen:this.state.submitting,className:"Modal-loading"},r.createElement("div",{className:"Modal-loading-icon"}),"We are processing your payment, please wait a few seconds..."))},t.prototype.getCardErrors=function(){var e={},t=this.state.card;return Object.keys(k).forEach(function(n){var a=!1;k[n].forEach(function(r){if(!a){var s=r(t[n]);s&&(e[n]=s,a=!0)}})}),e},t.prototype.getFormErrors=function(){var e={},t=this.state;return Object.keys(O).forEach(function(n){var a=!1;O[n].forEach(function(r){if(!a){var s=r(t[n]);s&&(e[n]=s,a=!0)}})}),e},t.prototype.getNumBooks=function(){return v.getNumBooksForPlan(this.state.planType,this.state.customBookAmount||1)},t.prototype.getMonthlyMoney=function(){return p.numBooksToMoney(this.getNumBooks())},t.prototype.getOneTimeMoney=function(){return p.numBooksToMoney(this.getNumBooks()*f.CURRENT_NUM_MONTHS)},t.prototype.getDonateMessage=function(){return this.state.paymentType===h.UserPaymentType.Monthly?"Donate "+d.formatMoney(this.getMonthlyMoney())+" / month":"Donate "+d.formatMoney(this.getOneTimeMoney())},t.prototype.setCustomPlan=function(){this.setState({planType:h.UserPlanType.Custom})},t.prototype.setCustomBookAmount=function(e){this.setState({customBookAmount:parseInt(e.target.value,10)||1})},t}(r.Component);t.JoinForm=x},661:function(e,t,n){"use strict";var a=n(1),r=n(58),s=n(15);t.MonthlyMoneyInfo=function(e){var t=e.numBooks;return a.createElement("div",null,t," books ($",s.MONEY_PER_BOOK," / book) = $",s.MONEY_PER_BOOK*t,a.createElement("br",null),"Stripe fee (2.9% + $0.30) = $",r.getStripeFee(t*s.MONEY_PER_BOOK),a.createElement("br",null),"Total = $",r.numBooksToMoney(t),a.createElement("br",null),a.createElement("br",null),"Your payment information will be used only for this monthly donation, and only for the duration of the 2016-17 school year, from ",s.CURRENT_MONTH_ABBR," to May 2017.",a.createElement("br",null),a.createElement("br",null),"You will receive a link in your confirmation email that will let you cancel this payment at any time.")}},662:function(e,t,n){"use strict";var a=n(1),r=n(58),s=n(15);t.OneTimeMoneyInfo=function(e){var t=e.numBooks,n=t*s.CURRENT_NUM_MONTHS;return a.createElement("div",null,t," books ($",s.MONEY_PER_BOOK," / book)",a.createElement("br",null),"over ",s.CURRENT_NUM_MONTHS," months (",s.CURRENT_MONTH_ABBR," - May 2017) = $",s.MONEY_PER_BOOK*n,a.createElement("br",null),"Stripe fee (2.9% + $0.30) = $",r.getStripeFee(s.MONEY_PER_BOOK*n),a.createElement("br",null),"Total = $",r.numBooksToMoney(n))}},680:function(e,t,n){n(21),n(22),e.exports=n(295)},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Stripe},91:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=n(1),i=n(59),o=n(105),l=function(e,t){var n={};Array.isArray(t)?t.forEach(function(e){return n[e]=!0}):n=t;var a={};return Object.keys(e).forEach(function(t){n.hasOwnProperty(t)||(a[t]=e[t])}),a},u=function(e){return s.createElement("input",r({},e))},c=function(e){function t(){var t=e.apply(this,arguments)||this;return t.state={blurred:!1},t}return a(t,e),t.prototype.render=function(){var e=this,t=l(this.props,["labelComponent","submitted","error"]),n=this.shouldDisplayError(),a=function(){return e.props.mask?o:u}();return s.createElement("label",{className:i({"is-invalid-label":n})},this.props.labelComponent,s.createElement(a,r({},t,{onBlur:this.handleBlur.bind(this),className:i({"is-invalid-input":n})})),n?s.createElement("span",{className:"form-error",style:{display:"block"}},this.props.error):null)},t.prototype.shouldDisplayError=function(){return this.props.error&&(this.props.submitted||this.state.blurred)},t.prototype.handleBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this.setState({blurred:!0})},t}(s.Component);t.FormInput=c},96:function(e,t,n){"use strict";function a(e){if(!e)return!1;if(e.length>254)return!1;if(!i.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some(function(e){return e.length>63})}function r(e,t){var n=!1;try{n=s.validate(e),t(null,n)}catch(e){t(e,n)}}var s={},i=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;s.validate=a,s.validate_async=r,e.exports=s}},[680]);