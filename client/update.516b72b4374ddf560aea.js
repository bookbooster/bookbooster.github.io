webpackJsonp([3],{105:function(t,e,r){"use strict";function s(t,e){var r={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},n=r(1),i=n.createClass({displayName:"InputElement",defaultCharsRules:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},defaultMaskChar:"_",lastCaretPos:null,isAndroidBrowser:function(){var t=new RegExp("windows","i"),e=new RegExp("firefox","i"),r=new RegExp("android","i"),s=navigator.userAgent;return!t.test(s)&&!e.test(s)&&r.test(s)},isWindowsPhoneBrowser:function(){var t=new RegExp("windows","i"),e=new RegExp("phone","i"),r=navigator.userAgent;return t.test(r)&&e.test(r)},isAndroidFirefox:function(){var t=new RegExp("windows","i"),e=new RegExp("firefox","i"),r=new RegExp("android","i"),s=navigator.userAgent;return!t.test(s)&&e.test(s)&&r.test(s)},isDOMElement:function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:1===t.nodeType&&"string"==typeof t.nodeName},getInputDOMNode:function(){var t=this.refs.input;return t?this.isDOMElement(t)?t:t.getDOMNode():null},enableValueAccessors:function(){var t=this;if(this.canUseAccessors){var e=this.getInputDOMNode();this.valueDescriptor=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"),Object.defineProperty(e,"value",{configurable:!0,enumerable:!0,get:function(){return t.value},set:function(r){t.value=r,t.valueDescriptor.set.call(e,r)}})}},disableValueAccessors:function(){var t=this.valueDescriptor;if(t){this.valueDescriptor=null;var e=this.getInputDOMNode();Object.defineProperty(e,"value",t)}},getInputValue:function(){var t=this.getInputDOMNode(),e=this.valueDescriptor;return e?e.get.call(t):t.value},setInputValue:function(t){var e=this.getInputDOMNode();this.value=t,e.value=t},getPrefix:function(){for(var t="",e=this.mask,r=0;r<e.length&&this.isPermanentChar(r);++r)t+=e[r];return t},getFilledLength:function(){var t,e=arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0];if(!this.maskChar)return e.length;for(t=e.length-1;t>=0;--t){var r=e[t];if(!this.isPermanentChar(t)&&this.isAllowedChar(r,t))break}return++t||this.getPrefix().length},getLeftEditablePos:function(t){for(var e=t;e>=0;--e)if(!this.isPermanentChar(e))return e;return null},getRightEditablePos:function(t){for(var e=this.mask,r=t;r<e.length;++r)if(!this.isPermanentChar(r))return r;return null},isEmpty:function(){var t=this;return!(arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0]).split("").some(function(e,r){return!t.isPermanentChar(r)&&t.isAllowedChar(e,r)})},isFilled:function(){var t=arguments.length<=0||void 0===arguments[0]?this.state.value:arguments[0];return this.getFilledLength(t)===this.mask.length},createFilledArray:function(t,e){for(var r=[],s=0;s<t;s++)r[s]=e;return r},formatValue:function(t){var e=this,r=this.maskChar,s=this.mask;if(!r){var a=this.getPrefix(),n=a.length;for(t=this.insertRawSubstr("",t,0);t.length>n&&this.isPermanentChar(t.length-1);)t=t.slice(0,t.length-1);return t.length<n&&(t=a),t}if(t){var i=this.formatValue("");return this.insertRawSubstr(i,t,0)}return t.split("").concat(this.createFilledArray(s.length-t.length,null)).map(function(t,a){return e.isAllowedChar(t,a)?t:e.isPermanentChar(a)?s[a]:r}).join("")},clearRange:function(t,e,r){var s=this,a=e+r,n=this.maskChar,i=this.mask;if(!n){var o=this.getPrefix().length;return t=t.split("").filter(function(t,r){return r<o||r<e||r>=a}).join(""),this.formatValue(t)}return t.split("").map(function(t,r){return r<e||r>=a?t:s.isPermanentChar(r)?i[r]:n}).join("")},replaceSubstr:function(t,e,r){return t.slice(0,r)+e+t.slice(r+e.length)},insertRawSubstr:function(t,e,r){var s=this.mask,a=this.maskChar,n=this.isFilled(t),i=this.getPrefix().length;e=e.split(""),!a&&r>t.length&&(t+=s.slice(t.length,r));for(var o=r;o<s.length&&e.length;){var l=this.isPermanentChar(o);if(l&&s[o]!==e[0])!a&&o>=t.length?t+=s[o]:a&&l&&e[0]===a&&e.shift(),++o;else{var u=e.shift();this.isAllowedChar(u,o,!0)&&(o<t.length?t=a||n||o<i?this.replaceSubstr(t,u,o):this.formatValue(t.substr(0,o)+u+t.substr(o)):a||(t+=u),++o)}}return t},getRawSubstrLength:function(t,e,r){var s=this.mask;this.maskChar;e=e.split("");for(var a=r;a<s.length&&e.length;)if(this.isPermanentChar(a)&&s[a]!==e[0])++a;else{var n=e.shift();this.isAllowedChar(n,a,!0)&&++a}return a-r},isAllowedChar:function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],s=this.mask,a=this.maskChar;if(this.isPermanentChar(e))return s[e]===t;var n=s[e],i=this.charsRules[n];return new RegExp(i).test(t||"")||r&&t===a},isPermanentChar:function(t){return-1!==this.permanents.indexOf(t)},setCaretToEnd:function(){var t=this.getFilledLength(),e=this.getRightEditablePos(t);null!==e&&this.setCaretPos(e)},setSelection:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=this.getInputDOMNode();if(r){var s=t+e;if("selectionStart"in r&&"selectionEnd"in r)r.selectionStart=t,r.selectionEnd=s;else{var a=r.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",s-t),a.select()}}},getSelection:function(){var t=this.getInputDOMNode(),e=0,r=0;if("selectionStart"in t&&"selectionEnd"in t)e=t.selectionStart,r=t.selectionEnd;else{var s=document.selection.createRange();s.parentElement()===t&&(e=-s.moveStart("character",-t.value.length),r=-s.moveEnd("character",-t.value.length))}return{start:e,end:r,length:r-e}},getCaretPos:function(){return this.getSelection().start},setCaretPos:function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,0)},r=this.setSelection.bind(this,t,0);r(),e(r),this.lastCaretPos=t},isFocused:function(){return document.activeElement===this.getInputDOMNode()},parseMask:function(t){var e=this;if(!t||"string"!=typeof t)return{mask:null,lastEditablePos:null,permanents:[]};var r="",s=[],a=!1,n=null;return t.split("").forEach(function(t){a||"\\"!==t?(a||!e.charsRules[t]?s.push(r.length):n=r.length+1,r+=t,a=!1):a=!0}),{mask:r,lastEditablePos:n,permanents:s}},getStringValue:function(t){return t||0===t?t+"":""},getInitialState:function(){this.hasValue=null!=this.props.value,this.charsRules="formatChars"in this.props?this.props.formatChars:this.defaultCharsRules;var t=this.parseMask(this.props.mask),e=null!=this.props.defaultValue?this.props.defaultValue:"",r=null!=this.props.value?this.props.value:e;return r=this.getStringValue(r),this.mask=t.mask,this.permanents=t.permanents,this.lastEditablePos=t.lastEditablePos,this.maskChar="maskChar"in this.props?this.props.maskChar:this.defaultMaskChar,this.mask&&(this.props.alwaysShowMask||r)&&(r=this.formatValue(r)),{value:r}},componentWillMount:function(){var t=this.mask,e=this.state.value;t&&e&&this.setState({value:e})},componentWillReceiveProps:function(t){this.hasValue=null!=this.props.value,this.charsRules="formatChars"in t?t.formatChars:this.defaultCharsRules;var e=this.mask,r=this.parseMask(t.mask),s=r.mask&&r.mask!==this.mask;if(this.mask=r.mask,this.permanents=r.permanents,this.lastEditablePos=r.lastEditablePos,this.maskChar="maskChar"in t?t.maskChar:this.defaultMaskChar,this.mask){var a=null!=t.value?this.getStringValue(t.value):this.state.value;e||null!=t.value||(a=this.getInputDOMNode().value);var n=t.alwaysShowMask||this.isFocused();if((s||r.mask&&(a||n&&!this.hasValue))&&(a=this.formatValue(a),s)){var i=this.lastCaretPos,o=this.getFilledLength(a);o<i&&this.setCaretPos(this.getRightEditablePos(o))}r.mask&&this.isEmpty(a)&&!n&&!this.hasValue&&(a=""),this.value=a,this.state.value!==a&&this.setState({value:a})}},componentDidUpdate:function(t,e){(this.mask||t.mask)&&null==this.props.value&&this.updateUncontrolledInput(),this.valueDescriptor&&this.getInputValue()!==this.state.value&&this.setInputValue(this.state.value)},updateUncontrolledInput:function(){this.getInputValue()!==this.state.value&&this.setInputValue(this.state.value)},onKeyDown:function(t){var e="function"==typeof this.props.onKeyDown;if(t.ctrlKey||t.metaKey)return void(e&&this.props.onKeyDown(t));var r=this.getCaretPos(),s=this.state.value,a=t.key,n=!1;switch(a){case"Backspace":case"Delete":var i=this.getPrefix().length,o="Delete"===a,l=this.getSelection();if(l.length)s=this.clearRange(s,l.start,l.length);else if(r<i||!o&&r===i)r=i;else{var u=o?this.getRightEditablePos(r):this.getLeftEditablePos(r-1);null!==u&&(s=this.clearRange(s,u,1),r=u)}n=!0}e&&this.props.onKeyDown(t),s!==this.state.value&&(this.setInputValue(s),this.setState({value:this.hasValue?this.state.value:s}),n=!0,"function"==typeof this.props.onChange&&this.props.onChange(t)),n&&(t.preventDefault(),this.setCaretPos(r))},onKeyPress:function(t){var e=t.key,r="function"==typeof this.props.onKeyPress;if("Enter"===e||t.ctrlKey||t.metaKey)return void(r&&this.props.onKeyPress(t));if(!this.isWindowsPhoneBrowser){var s=this.getCaretPos(),a=this.getSelection(),n=this.state.value,i=this.mask,o=(this.maskChar,this.lastEditablePos),l=(i.length,this.getPrefix().length);if(this.isPermanentChar(s)&&i[s]===e)n=this.insertRawSubstr(n,e,s),++s;else{var u=this.getRightEditablePos(s);null!==u&&this.isAllowedChar(e,u)&&(n=this.clearRange(n,a.start,a.length),n=this.insertRawSubstr(n,e,u),s=u+1)}n!==this.state.value&&(this.setInputValue(n),this.setState({value:this.hasValue?this.state.value:n}),"function"==typeof this.props.onChange&&this.props.onChange(t)),t.preventDefault(),s<o&&s>l&&(s=this.getRightEditablePos(s)),this.setCaretPos(s)}},onChange:function(t){var e=this,r=this.pasteSelection,s=this.mask,a=this.maskChar,n=this.lastEditablePos,i=(this.preventEmptyChange,t.target,this.getInputValue());if(!i&&this.preventEmptyChange)return this.disableValueAccessors(),this.preventEmptyChange=!1,void this.setInputValue(this.state.value);var o=this.state.value;if(r)return this.pasteSelection=null,void this.pasteText(o,i,r,t);var l,u=this.getSelection(),h=u.end,c=s.length,p=i.length,d=o.length,m=this.getPrefix().length;if(p>d){var f=p-d,v=u.end-f,g=i.substr(v,f);h=v<n&&(1!==f||g!==s[v])?this.getRightEditablePos(v):v,i=i.substr(0,v)+i.substr(v+f),l=this.clearRange(i,v,c-v),l=this.insertRawSubstr(l,g,h),i=this.insertRawSubstr(o,g,h),1!==f||h>=m&&h<n?h=this.getFilledLength(l):h<n&&h++}else if(p<d){var b=c-p;l=this.clearRange(o,u.end,b);var E=i.substr(0,u.end),y=E===o.substr(0,u.end);a&&(i=this.insertRawSubstr(l,E,0)),l=this.clearRange(l,u.end,c-u.end),l=this.insertRawSubstr(l,E,0),y?h<m&&(h=m):h=this.getFilledLength(l)}i=this.formatValue(i),this.canUseAccessors&&(this.isAndroidBrowser||this.isWindowsPhoneBrowser)||this.setInputValue(i),this.canUseAccessors&&(this.isAndroidFirefox&&i&&!this.getInputValue()||this.isAndroidBrowser||this.isWindowsPhoneBrowser)&&(this.value=i,this.enableValueAccessors(),this.isAndroidFirefox&&(this.preventEmptyChange=!0),setTimeout(function(){e.preventEmptyChange=!1,e.disableValueAccessors()},0)),this.setState({value:this.hasValue?this.state.value:i}),"function"==typeof this.props.onChange&&this.props.onChange(t),this.setCaretPos(h)},onFocus:function(t){if(this.state.value)this.getFilledLength()<this.mask.length&&this.setCaretToEnd();else{var e=this.getPrefix(),r=this.formatValue(e),s=this.formatValue(r),a=s!==t.target.value;a&&(t.target.value=s),this.setState({value:this.hasValue?this.state.value:s},this.setCaretToEnd),a&&"function"==typeof this.props.onChange&&this.props.onChange(t)}"function"==typeof this.props.onFocus&&this.props.onFocus(t)},onBlur:function(t){if(!this.props.alwaysShowMask&&this.isEmpty(this.state.value)){var e=""!==this.getInputValue();e&&this.setInputValue(""),this.setState({value:this.hasValue?this.state.value:""}),e&&"function"==typeof this.props.onChange&&this.props.onChange(t)}"function"==typeof this.props.onBlur&&this.props.onBlur(t)},onPaste:function(t){if(this.isAndroidBrowser)return this.pasteSelection=this.getSelection(),void this.setInputValue("");var e;if(window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData&&(e=t.clipboardData.getData("text/plain")),e){var r=this.state.value,s=this.getSelection();this.pasteText(r,e,s,t)}t.preventDefault()},pasteText:function(t,e,r,s){var a=r.start;r.length&&(t=this.clearRange(t,a,r.length));var n=this.getRawSubstrLength(t,e,a);t=this.insertRawSubstr(t,e,a),a+=n,a=this.getRightEditablePos(a)||a,t!==this.getInputValue()&&(s&&this.setInputValue(t),this.setState({value:this.hasValue?this.state.value:t}),s&&"function"==typeof this.props.onChange&&this.props.onChange(s)),this.setCaretPos(a)},componentDidMount:function(){if(this.isAndroidBrowser=this.isAndroidBrowser(),this.isWindowsPhoneBrowser=this.isWindowsPhoneBrowser(),this.isAndroidFirefox=this.isAndroidFirefox(),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf&&Object.defineProperty){var t=this.getInputDOMNode(),e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value");this.canUseAccessors=!!(e&&e.get&&e.set)}this.mask&&null==this.props.value&&this.updateUncontrolledInput()},render:function(){var t=this,e=this.props,r=(e.mask,e.alwaysShowMask,e.maskChar,e.formatChars,s(e,["mask","alwaysShowMask","maskChar","formatChars"]));if(this.mask){["onFocus","onBlur","onChange","onKeyDown","onKeyPress","onPaste"].forEach(function(e){r[e]=t[e]}),null!=r.value&&(r.value=this.state.value)}return n.createElement("input",a({ref:"input"},r))}});t.exports=i},117:function(t,e,r){"use strict";var s=r(96);e.requiredValidator=function(t){return t?null:"Required"},e.emailValidator=function(t){return t?s.validate(t)?null:"Email is invalid":null}},212:function(t,e,r){"use strict";var s=r(78);e.cardNumberValidator=function(t){return s.default.card.validateCardNumber(t)?null:"Card number is invalid"},e.cardExpValidator=function(t){return s.default.card.validateExpiry(t)?null:"Expiration is invalid"},e.cardCvcValidator=function(t){return s.default.card.validateCVC(t)?null:"CVV is invalid"}},213:function(t,e,r){"use strict";var s=r(1),a=function(t){var e=t.cardType;return s.createElement("div",null,s.createElement("strong",null,e||"Visa, Mastercard, and Discover"," cardholders:"),s.createElement("br",null),"Turn your card over and look for a 3-digit code at the end of the signature box.")};e.AmexMessage=function(){return s.createElement("div",null,s.createElement("strong",null,"American Express cardholders:"),s.createElement("br",null),"Look for the 4-digit code printed on the front of your card just above and to the right of your main credit card number.")},e.CVVInfo=function(t){var r=t.cardType;return"American Express"===r?s.createElement(e.AmexMessage,null):"Discover"===r||"Visa"===r||"MasterCard"===r?s.createElement(a,{cardType:r}):s.createElement("div",null,s.createElement(a,null),s.createElement("br",null),s.createElement(e.AmexMessage,null))}},214:function(t,e,r){"use strict";var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(1),n=r(59),i=r(91),o=r(78),l=r(213),u=r(116),h={"American Express":"amex",Discover:"discover",Mastercard:"mastercard",Visa:"visa"},c=function(t){function e(){var e=t.apply(this,arguments)||this;return e.handleInputChange=function(t,r){e.props.onCardChange((s={},s[t]=r.target.value,s));var s},e}return s(e,t),e.prototype.render=function(){var t=o.default.card.cardType(this.props.card.number);return a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"small-11 medium-9 medium-offset-1 columns JoinForm-card-icons"},["mastercard","visa","discover","amex"].map(function(e){return a.createElement("div",{className:n((r={},r["JoinForm-card-icon "+e]=!0,r.active=h[t]===e,r)),key:e});var r})),a.createElement("div",{className:"small-8 medium-4 medium-offset-1 columns"},a.createElement(i.FormInput,{labelComponent:"Credit or debit card number",type:"text",submitted:this.props.submitted,name:"cardNumber",value:this.props.card.number,onChange:this.handleInputChange.bind(this,"number"),mask:"American Express"===t?"9999 999999 99999":"9999 9999 9999 9999",maskChar:"Unknown"===t?null:"_",error:this.props.errors.number})),a.createElement("div",{className:"small-3 medium-2 columns"},a.createElement(i.FormInput,{labelComponent:a.createElement("span",null,"CVV ",a.createElement(u.SupportTooltip,{component:a.createElement(l.CVVInfo,{cardType:t})})),type:"text",submitted:this.props.submitted,name:"cardCvc",value:this.props.card.cvc,onChange:this.handleInputChange.bind(this,"cvc"),error:this.props.errors.cvc}))),a.createElement("div",{className:"row JoinForm-section"},a.createElement("div",{className:"medium-3 medium-offset-1 columns"},a.createElement(i.FormInput,{labelComponent:"Expiration (MM / YY)",type:"text",name:"cardExp",submitted:this.props.submitted,value:this.props.card.exp,onChange:this.handleInputChange.bind(this,"exp"),mask:"99 / 99",error:this.props.errors.exp})),a.createElement("div",{className:"medium-3 columns"},a.createElement(i.FormInput,{labelComponent:"Zip code",type:"text",name:"zip",submitted:this.props.submitted,value:this.props.card.zip,onChange:this.handleInputChange.bind(this,"zip"),error:this.props.errors.zip}))))},e}(a.Component);e.CardForm=c},299:function(t,e,r){"use strict";var s=r(31),a=r(1),n=r(669);s.render(a.createElement(n.UpdateForm,null),document.getElementById("content"))},669:function(t,e,r){"use strict";var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(1),n=r(214),i=r(117),o=r(212),l=r(118),u=r(57),h=r(15),c=r(78),p=r(115),d={cvc:[i.requiredValidator,o.cardCvcValidator],exp:[i.requiredValidator,o.cardExpValidator],number:[i.requiredValidator,o.cardNumberValidator],zip:[i.requiredValidator]},m=function(t){function e(){var e=t.apply(this,arguments)||this;return e.state={card:{cvc:"",exp:"",number:"",zip:""},submitted:!1,submitting:!1},e.handleSubmit=function(t){t.preventDefault();var r=e.getCardErrors();if(Object.keys(r).length>0)return alert("Please fix errors"),void e.setState({submitted:!0});e.setState({submitting:!0}),c.default.card.createToken({address_zip:e.state.card.zip,cvc:e.state.card.cvc,exp:e.state.card.exp,name:UPDATE_DATA.firstName+" "+UPDATE_DATA.lastName,number:e.state.card.number},function(t,r){if(r.error)e.setState({submitting:!1}),e.alertStripeError();else{var s={createCharge:UPDATE_DATA.cardDeclined,stripeToken:r.id};fetch("/updates/"+UPDATE_DATA.updateId,{body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"}).then(function(t){return t.json()}).then(function(t){if(t.errorCode){switch(t.errorCode){case l.CreateUserErrorCode.StripeError:e.alertStripeError();break;case l.CreateUserErrorCode.PostPaymentError:e.alertPostPaymentError();break;default:e.alertError()}e.setState({submitting:!1})}else{var r="/users/"+UPDATE_DATA.userId+"/confirmation";UPDATE_DATA.cardDeclined?location.href=r:location.href=r+"?updateOnly=1"}}).catch(function(){e.setState({submitting:!1}),e.alertError()})}})},e.handleCardChange=function(t){e.setState({card:Object.assign({},e.state.card,t)})},e}return s(e,t),e.prototype.render=function(){var t=this.getCardErrors();return a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},a.createElement("div",{className:"row"},a.createElement("div",{className:"small-11 medium-9 medium-offset-1 columns JoinForm-plan-legend"},"Enter payment information:")),a.createElement(n.CardForm,{card:this.state.card,errors:t,onCardChange:this.handleCardChange,submitted:this.state.submitted}),a.createElement("div",{className:"row JoinForm-section"},a.createElement("div",{className:"small-11 medium-6 medium-offset-1 columns clearfix"},a.createElement("input",{type:"submit",value:this.getDonateMessage(),className:"button large float-left"}),a.createElement("a",{href:"https://stripe.com",target:"_blank",className:"stripe-logo float-left"},a.createElement("img",{src:"/static/powered_by_stripe.png",alt:"Powered by Stripe"})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"small-11 medium-6 medium-offset-1 columns"},a.createElement("small",null,a.createElement("p",null,"Contributions made to BookBooster are tax-deductible through association with ",a.createElement("a",{href:"https://firstbook.org",target:"_blank"},"First Book"),", as it is a public charity exempt from Federal income tax under Section 501(c)(3) of the Internal Revenue Code, with Tax ID Number of 52-1779606. You will receive a tax-receipt email at ",UPDATE_DATA.email," with information to be used when filing taxes."),a.createElement("p",null,"All transactions are secure and encrypted, and we never store your credit card information. Payments are processed through Stripe. Payment information is governed by ",a.createElement("a",{href:"https://stripe.com/us/privacy/",target:"_blank"},"Stripe’s privacy policy."))))),a.createElement(p.Modal,{isOpen:this.state.submitting,className:"Modal-loading"},a.createElement("div",{className:"Modal-loading-icon"}),"We are"," ",UPDATE_DATA.cardDeclined?"processing your payment":"updating your information",", please wait a few seconds..."))},e.prototype.getCardErrors=function(){var t={},e=this.state.card;return Object.keys(d).forEach(function(r){var s=!1;d[r].forEach(function(a){if(!s){var n=a(e[r]);n&&(t[r]=n,s=!0)}})}),t},e.prototype.alertPostPaymentError=function(){alert("Your payment was successful but there was an error on our side. Please email "+h.SUPPORT_EMAIL+" and we will respond as soon as possible. Sorry for the inconvenience.")},e.prototype.alertStripeError=function(){alert("There was an error processing your card. Please double-check your payment information or email "+h.SUPPORT_EMAIL+" for further support.")},e.prototype.alertError=function(){alert("Sorry, there was an error on our side. Please try again later or email "+h.SUPPORT_EMAIL+" and we will respond as soon as possible.")},e.prototype.getDonateMessage=function(){return UPDATE_DATA.cardDeclined?"Update and donate "+u.formatMoney(UPDATE_DATA.monthlyMoney):"Update information"},e}(a.Component);e.UpdateForm=m},684:function(t,e,r){r(21),r(22),t.exports=r(299)},78:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Stripe},91:function(t,e,r){"use strict";var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=this&&this.__assign||Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},n=r(1),i=r(59),o=r(105),l=function(t,e){var r={};Array.isArray(e)?e.forEach(function(t){return r[t]=!0}):r=e;var s={};return Object.keys(t).forEach(function(e){r.hasOwnProperty(e)||(s[e]=t[e])}),s},u=function(t){return n.createElement("input",a({},t))},h=function(t){function e(){var e=t.apply(this,arguments)||this;return e.state={blurred:!1},e}return s(e,t),e.prototype.render=function(){var t=this,e=l(this.props,["labelComponent","submitted","error"]),r=this.shouldDisplayError(),s=function(){return t.props.mask?o:u}();return n.createElement("label",{className:i({"is-invalid-label":r})},this.props.labelComponent,n.createElement(s,a({},e,{onBlur:this.handleBlur.bind(this),className:i({"is-invalid-input":r})})),r?n.createElement("span",{className:"form-error",style:{display:"block"}},this.props.error):null)},e.prototype.shouldDisplayError=function(){return this.props.error&&(this.props.submitted||this.state.blurred)},e.prototype.handleBlur=function(t){this.props.onBlur&&this.props.onBlur(t),this.setState({blurred:!0})},e}(n.Component);e.FormInput=h},96:function(t,e,r){"use strict";function s(t){if(!t)return!1;if(t.length>254)return!1;if(!i.test(t))return!1;var e=t.split("@");return!(e[0].length>64)&&!e[1].split(".").some(function(t){return t.length>63})}function a(t,e){var r=!1;try{r=n.validate(t),e(null,r)}catch(t){e(t,r)}}var n={},i=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;n.validate=s,n.validate_async=a,t.exports=n}},[684]);